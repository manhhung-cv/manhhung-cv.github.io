<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#000000">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="icon" href="/Asset/logo/logo.png" />
    <link rel="apple-touch-icon" href="/Asset/logo/iconApps.png" sizes="150x150" />

    <meta property="og:image" content="/Asset/Banner/Banner.png" />
    <meta property="og:title" content="Hunq" />
    <meta property="og:description" content="Thiết kế và lập trình Đinh Mạnh Hùng" />
    <title>Sleep Smart</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #09090b;
            /* Zinc 950 */
            color: #e4e4e7;
            /* Zinc 200 */
            -webkit-tap-highlight-color: transparent;
        }

        /* Minimal Slider */
        input[type=range] {
            -webkit-appearance: none;
            background: transparent;
            height: 2px;
            width: 100%;
            cursor: pointer;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 12px;
            width: 12px;
            border-radius: 50%;
            background: #fff;
            margin-top: -5px;
            transition: transform 0.1s;
        }

        input[type=range]::-webkit-slider-thumb:active {
            transform: scale(1.2);
        }

        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 2px;
            background: #3f3f46;
        }

        /* Minimal Time Input Override */
        input[type="time"]::-webkit-calendar-picker-indicator {
            filter: invert(1);
            cursor: pointer;
            opacity: 0.6;
        }

        input[type="time"] {
            font-family: 'Inter', sans-serif;
            color-scheme: dark;
        }

        /* Utilities */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .active-sound {
            background-color: #ffffff !important;
            color: #000000 !important;
        }

        .tab-active {
            background-color: #27272a;
            color: white;
            border-color: #52525b;
        }

        .tab-inactive {
            color: #71717a;
            border-color: transparent;
        }

        /* Animation cho chế độ thở */
        @keyframes breathe-anim {

            0%,
            100% {
                transform: scale(1);
                opacity: 0.3;
                border-color: #52525b;
            }

            /* Thở ra / Nghỉ */
            50% {
                transform: scale(1.5);
                opacity: 1;
                border-color: #fff;
            }

            /* Hít vào */
        }

        .breathing-active {
            animation: breathe-anim 10s infinite ease-in-out;
            /* Chu kỳ 10s: 5s hít, 5s thở */
        }

        /* Trạng thái Hít vào (Vòng tròn to ra) */
        .breath-in {
            transform: scale(1.5) !important;
            border-color: #fff !important;
            box-shadow: 0 0 50px rgba(255, 255, 255, 0.3) !important;
        }

        /* --- Thay thế .tab-active và .tab-inactive cũ --- */
        .tab-active {
            background-color: #ffffff;
            color: #000000;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .tab-inactive {
            color: #71717a;
            background-color: transparent;
        }

        /* --- Tối ưu Input Time cho iOS & Zen Minimal --- */
        input[type="time"]::-webkit-calendar-picker-indicator {
            display: none;
            -webkit-appearance: none;
        }

        input[type="time"] {
            text-align: center;
            -webkit-appearance: none;
            appearance: none;
            background: transparent;
        }

        /* Trạng thái Thở ra (Vòng tròn thu nhỏ - Mặc định là scale-50) */
    </style>
</head>

<body class="min-h-screen flex flex-col justify-between p-6 md:p-12 relative overflow-hidden bg-zinc-950 text-zinc-200">

    <header class="flex justify-between items-start z-20">
        <div>
            <div id="dateDisplay" class="text-xs font-medium tracking-[0.2em] text-zinc-500 uppercase mb-1">...</div>
            <div id="weatherDisplay" class="text-xs text-zinc-600 flex items-center gap-2">
                <i data-lucide="loader" class="w-3 h-3 animate-spin"></i> Đang tải...
            </div>
        </div>
    </header>

    <main class="flex-grow flex flex-col items-center justify-center z-10 py-4 relative w-full max-w-md mx-auto">

        <div id="mainClock"
            class="text-[12vh] md:text-[20vh] font-extralight leading-none tracking-tighter select-none transition-all duration-500">
            00:00
        </div>

        <div id="focusLabel"
            class="hidden text-xs font-bold tracking-[0.3em] uppercase mt-4 text-zinc-500 animate-pulse">
            ĐANG TẬP TRUNG
        </div>

        <div id="activeToolContainer" class="w-full mt-6 hidden transition-all duration-300 px-4">
            <div id="tool-sleep"
                class="tool-content hidden bg-zinc-900/90 backdrop-blur border border-zinc-800 rounded-3xl p-4 shadow-2xl transition-all duration-300 w-full">

                <div
                    class="grid grid-cols-3 text-[11px] font-medium mb-4 bg-zinc-950/80 rounded-full p-1 gap-1 ring-1 ring-zinc-800/50">
                    <button onclick="switchSleepTab('bedtime')" id="tab-bedtime"
                        class="py-2 rounded-full transition-all duration-300 tab-active">Đi ngủ</button>
                    <button onclick="switchSleepTab('waketime')" id="tab-waketime"
                        class="py-2 rounded-full transition-all duration-300 tab-inactive">Thức dậy</button>
                    <button onclick="switchSleepTab('duration')" id="tab-duration"
                        class="py-2 rounded-full transition-all duration-300 tab-inactive">Thời lượng</button>
                </div>

                <div id="view-bedtime" class="flex flex-col items-center w-full">
                    <span class="text-[9px] text-zinc-500 uppercase tracking-widest mb-1.5">Giờ lên giường</span>
                    <div
                        class="w-full bg-black/40 rounded-2xl p-3 mb-4 flex justify-center border border-zinc-800/50 transition-colors focus-within:border-zinc-500/50">
                        <input type="time" id="input-bedtime"
                            class="bg-transparent text-white text-4xl md:text-5xl font-extralight text-center outline-none w-full appearance-none">
                    </div>
                    <button onclick="calcSmartSleep('bedtime')"
                        class="w-full bg-white hover:bg-zinc-200 text-black py-2.5 rounded-xl text-[11px] font-bold tracking-widest transition-colors">TÍNH
                        GIỜ DẬY</button>
                </div>

                <div id="view-waketime" class="hidden flex flex-col items-center w-full">
                    <span class="text-[9px] text-zinc-500 uppercase tracking-widest mb-1.5">Giờ báo thức</span>
                    <div
                        class="w-full bg-black/40 rounded-2xl p-3 mb-4 flex justify-center border border-zinc-800/50 transition-colors focus-within:border-zinc-500/50">
                        <input type="time" id="input-waketime"
                            class="bg-transparent text-white text-4xl md:text-5xl font-extralight text-center outline-none w-full appearance-none">
                    </div>
                    <button onclick="calcSmartSleep('waketime')"
                        class="w-full bg-white hover:bg-zinc-200 text-black py-2.5 rounded-xl text-[11px] font-bold tracking-widest transition-colors">TÍNH
                        GIỜ NGỦ</button>
                </div>

                <div id="view-duration" class="hidden flex-col items-center w-full">
                    <div class="flex gap-2 w-full mb-4">
                        <div
                            class="w-1/2 flex flex-col items-center bg-black/40 rounded-2xl p-3 border border-zinc-800/50 transition-colors focus-within:border-zinc-500/50">
                            <span class="text-[9px] text-zinc-500 uppercase tracking-widest mb-1">Bắt đầu</span>
                            <input type="time" id="diff-start"
                                class="bg-transparent text-white text-2xl font-light text-center outline-none w-full appearance-none">
                        </div>
                        <div
                            class="w-1/2 flex flex-col items-center bg-black/40 rounded-2xl p-3 border border-zinc-800/50 transition-colors focus-within:border-zinc-500/50">
                            <span class="text-[9px] text-zinc-500 uppercase tracking-widest mb-1">Kết thúc</span>
                            <input type="time" id="diff-end" value="06:00"
                                class="bg-transparent text-white text-2xl font-light text-center outline-none w-full appearance-none">
                        </div>
                    </div>
                    <button onclick="calcDuration()"
                        class="w-full bg-zinc-800 hover:bg-zinc-700 text-white py-2.5 rounded-xl text-[11px] font-bold tracking-widest transition-colors border border-zinc-700/50">TÍNH
                        THỜI LƯỢNG</button>
                </div>

                <div id="sleepResultContainer" class="hidden mt-4 pt-4 border-t border-zinc-800/50 w-full">
                    <div id="sleepResultContent" class="grid grid-cols-2 gap-2"></div>
                    <div id="durationResult"
                        class="text-center text-lg font-light text-white hidden flex flex-col items-center justify-center py-1">
                    </div>
                </div>
            </div>

            <div id="tool-sound"
                class="tool-content hidden bg-zinc-900/90 backdrop-blur border border-zinc-800 rounded-3xl p-4 shadow-2xl transition-all duration-300 w-full">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-[10px] text-zinc-500 uppercase tracking-[0.2em]">Âm Thanh Nền</h3>
                    <button onclick="stopAllSounds()"
                        class="text-[9px] text-red-400 border border-red-900/50 px-2.5 py-1 rounded-full hover:bg-red-900/20 transition-colors uppercase tracking-widest">
                        Dừng hết
                    </button>
                </div>

                <div id="soundGrid" class="grid grid-cols-4 gap-2 mb-1">
                </div>

                <div id="activeControls"
                    class="h-0 overflow-hidden transition-all duration-300 opacity-0 border-t border-zinc-800/50 mt-2 pt-1">
                    <div class="pt-3 flex items-center gap-3">
                        <i data-lucide="volume-2" class="w-4 h-4 text-zinc-500"></i>
                        <input type="range" id="globalVolumeControl" min="0" max="1" step="0.05"
                            class="flex-1 accent-white h-1 bg-zinc-700 rounded-lg appearance-none cursor-pointer">
                    </div>
                    <div class="text-center mt-2 text-[9px] text-zinc-500 uppercase tracking-widest" id="controlName">
                        Volume</div>
                </div>
            </div>

            <div id="tool-breath"
                class="tool-content hidden bg-zinc-900/90 backdrop-blur border border-zinc-800 rounded-3xl p-4 shadow-2xl transition-all duration-300 flex flex-col items-center w-full">
                <h3 class="text-[10px] text-zinc-500 uppercase tracking-[0.2em] mb-4">Bài tập thở</h3>
                <div class="grid grid-cols-3 gap-2 w-full">
                    <button onclick="startBreathing(30)"
                        class="py-3 rounded-2xl bg-black/40 border border-zinc-800/50 text-white text-xs font-light hover:bg-white hover:text-black hover:border-white transition-all">30s</button>
                    <button onclick="startBreathing(60)"
                        class="py-3 rounded-2xl bg-black/40 border border-zinc-800/50 text-white text-xs font-light hover:bg-white hover:text-black hover:border-white transition-all">60s</button>
                    <button onclick="startBreathing(120)"
                        class="py-3 rounded-2xl bg-black/40 border border-zinc-800/50 text-white text-xs font-light hover:bg-white hover:text-black hover:border-white transition-all">2m</button>
                </div>
            </div>

            <div id="tool-focus"
                class="tool-content hidden bg-zinc-900/90 backdrop-blur border border-zinc-800 rounded-3xl p-4 shadow-2xl transition-all duration-300 flex flex-col items-center w-full">
                <h3 class="text-[10px] text-zinc-500 uppercase tracking-[0.2em] mb-4">Pomodoro</h3>

                <div class="w-full flex gap-2 mb-4">
                    <div
                        class="flex-1 bg-black/40 rounded-xl border border-zinc-800/50 transition-colors focus-within:border-zinc-500/50 flex items-center p-1">
                        <input type="number" id="customFocusInput" placeholder="Phút"
                            class="w-full bg-transparent text-center text-white text-xl font-light outline-none appearance-none">
                    </div>
                    <button onclick="startFocusCustom()"
                        class="bg-white hover:bg-zinc-200 text-black px-4 rounded-xl text-[10px] font-bold tracking-widest transition-colors">BẮT
                        ĐẦU</button>
                </div>

                <div class="w-full border-t border-zinc-800/50 pt-4">
                    <div class="grid grid-cols-3 gap-2">
                        <button onclick="startFocus(15)"
                            class="py-2.5 rounded-xl bg-zinc-800/50 border border-zinc-700/30 text-zinc-300 text-[10px] font-medium tracking-widest hover:bg-white hover:text-black transition-all">15P</button>
                        <button onclick="startFocus(25)"
                            class="py-2.5 rounded-xl bg-zinc-800/50 border border-zinc-700/30 text-zinc-300 text-[10px] font-medium tracking-widest hover:bg-white hover:text-black transition-all">25P</button>
                        <button onclick="startFocus(45)"
                            class="py-2.5 rounded-xl bg-zinc-800/50 border border-zinc-700/30 text-zinc-300 text-[10px] font-medium tracking-widest hover:bg-white hover:text-black transition-all">45P</button>
                    </div>
                </div>
            </div>

            <div id="tool-location"
                class="tool-content hidden bg-zinc-900/90 backdrop-blur border border-zinc-800 rounded-3xl p-4 shadow-2xl transition-all duration-300 flex flex-col items-center w-full">
                <h3 class="text-[10px] text-zinc-500 uppercase tracking-[0.2em] mb-4">Thời tiết & Vị trí</h3>

                <div class="w-full flex gap-2 mb-4">
                    <div
                        class="flex-1 bg-black/40 rounded-xl border border-zinc-800/50 transition-colors focus-within:border-zinc-500/50 flex items-center px-3">
                        <input type="text" id="manualLocation" placeholder="Tên thành phố..."
                            class="w-full bg-transparent text-white text-xs outline-none py-2.5">
                    </div>
                    <button onclick="saveLocation()"
                        class="bg-zinc-800 hover:bg-white hover:text-black text-white px-4 rounded-xl text-[10px] font-bold tracking-widest transition-colors border border-zinc-700/50">LƯU</button>
                </div>

                <button onclick="useGPS()"
                    class="w-full py-3 flex items-center justify-center gap-2 text-[10px] text-blue-400 hover:text-blue-300 bg-blue-900/10 hover:bg-blue-900/20 border border-blue-900/30 rounded-xl transition-colors tracking-widest uppercase">
                    <i data-lucide="map-pin" class="w-3.5 h-3.5"></i> Dùng định vị GPS
                </button>
                <div id="locStatus" class="text-[9px] text-center mt-3 text-zinc-500 uppercase tracking-widest"></div>
            </div>

            <div id="tool-story"
                class="tool-content hidden bg-zinc-900/90 backdrop-blur border border-zinc-800 rounded-3xl p-4 shadow-2xl transition-all duration-300 flex flex-col w-full">
                <h3 class="text-[10px] text-zinc-500 uppercase tracking-[0.2em] mb-3 text-center">Âm thanh thư giãn</h3>

                <div class="flex items-center justify-between bg-black/40 p-2.5 rounded-2xl border border-zinc-800/50">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-xl bg-zinc-800 flex items-center justify-center shadow-inner">
                            <i data-lucide="book-open" class="w-4 h-4 text-zinc-400"></i>
                        </div>
                        <div class="flex flex-col justify-center">
                            <div class="text-xs font-semibold text-zinc-200 tracking-wide">Chuyến Tàu Đêm</div>
                            <div class="text-[9px] text-zinc-500 uppercase tracking-widest mt-0.5">ASMR Story</div>
                        </div>
                    </div>
                    <button onclick="toggleStory()" id="storyBtn"
                        class="w-10 h-10 rounded-xl bg-zinc-800 text-white flex items-center justify-center hover:bg-white hover:text-black transition-all shadow-lg mr-1 group">
                        <i data-lucide="play" class="w-4 h-4 ml-0.5"></i>
                    </button>
                </div>
            </div>

            <div id="tool-settings"
                class="tool-content hidden bg-zinc-900/90 backdrop-blur border border-zinc-800 rounded-3xl p-4 shadow-2xl transition-all duration-300 flex flex-col w-full">
                <h3 class="text-[10px] text-zinc-500 uppercase tracking-[0.2em] mb-4 text-center">Cài đặt hiển thị</h3>

                <div class="space-y-1 mb-5 bg-black/40 rounded-2xl p-3 border border-zinc-800/50">
                    <label class="flex items-center justify-between cursor-pointer group py-1.5">
                        <span class="text-xs text-zinc-300 group-hover:text-white transition-colors tracking-wide">Hiển
                            thị Giây</span>
                        <input type="checkbox" id="chk-seconds" onchange="toggleClockConfig('seconds')"
                            class="w-4 h-4 accent-white bg-zinc-800 border-zinc-700 rounded cursor-pointer transition-all">
                    </label>

                    <div class="w-full h-px bg-zinc-800/50 my-1"></div>

                    <label class="flex items-center justify-between cursor-pointer group py-1.5">
                        <span class="text-xs text-zinc-300 group-hover:text-white transition-colors tracking-wide">Hiển
                            thị Mili-giây</span>
                        <input type="checkbox" id="chk-millis" onchange="toggleClockConfig('millis')"
                            class="w-4 h-4 accent-white bg-zinc-800 border-zinc-700 rounded cursor-pointer transition-all">
                    </label>
                </div>

                <button onclick="toggleZenMode()"
                    class="w-full py-3 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 hover:text-white rounded-xl text-[10px] font-bold uppercase tracking-[0.2em] transition-all flex items-center justify-center gap-2 border border-zinc-700/50 shadow-lg">
                    <i data-lucide="eye-off" class="w-4 h-4"></i> Ẩn thanh công cụ
                </button>
                <p class="text-[9px] text-zinc-500 text-center mt-3 uppercase tracking-widest">(Chạm vào đồng hồ để hiện
                    lại)</p>
            </div>
        </div>

        <button id="btn-stop-main" onclick="stopFocus()"
            class="hidden mt-8 px-8 py-2 border border-red-900/50 text-red-400 hover:bg-red-900/10 rounded-full text-xs tracking-widest transition-all duration-500 opacity-0 transform translate-y-4">
            DỪNG LẠI
        </button>

        <div id="quoteDisplay" onclick="Quotes()"
            class="mt-8 text-sm font-light text-zinc-500 text-center max-w-md italic opacity-0 transition-opacity duration-1000">
        </div>
    </main>

    <div id="bottomPanel" class="z-20 transition-all duration-500 pb-6 md:pb-8 flex justify-center w-full px-2">
        <div
            class="bg-zinc-900/90 backdrop-blur border border-zinc-800 rounded-full p-1.5 sm:p-2 flex items-center gap-1 sm:gap-2 shadow-2xl max-w-full overflow-x-auto hide-scrollbar">

            <button onclick="toggleTool('sound')" id="btn-tool-sound"
                class="p-2.5 sm:p-3 flex-shrink-0 rounded-full text-zinc-500 hover:text-white hover:bg-zinc-800 transition-all relative group">
                <i data-lucide="music" class="w-4 h-4 sm:w-5 sm:h-5"></i>
            </button>

            <div class="w-px h-5 sm:h-6 bg-zinc-800 mx-0.5 sm:mx-1 flex-shrink-0"></div>

            <button onclick="toggleTool('sleep')" id="btn-tool-sleep"
                class="p-2.5 sm:p-3 flex-shrink-0 rounded-full text-zinc-500 hover:text-white hover:bg-zinc-800 transition-all">
                <i data-lucide="moon" class="w-4 h-4 sm:w-5 sm:h-5"></i>
            </button>
            <button onclick="toggleTool('story')" id="btn-tool-story"
                class="p-2.5 sm:p-3 flex-shrink-0 rounded-full text-zinc-500 hover:text-white hover:bg-zinc-800 transition-all">
                <i data-lucide="book-open" class="w-4 h-4 sm:w-5 sm:h-5"></i>
            </button>
            <button onclick="toggleTool('breath')" id="btn-tool-breath"
                class="p-2.5 sm:p-3 flex-shrink-0 rounded-full text-zinc-500 hover:text-white hover:bg-zinc-800 transition-all">
                <i data-lucide="wind" class="w-4 h-4 sm:w-5 sm:h-5"></i>
            </button>
            <button onclick="toggleTool('focus')" id="btn-tool-focus"
                class="p-2.5 sm:p-3 flex-shrink-0 rounded-full text-zinc-500 hover:text-white hover:bg-zinc-800 transition-all">
                <i data-lucide="timer" class="w-4 h-4 sm:w-5 sm:h-5"></i>
            </button>
            <button onclick="toggleTool('location')" id="btn-tool-location"
                class="p-2.5 sm:p-3 flex-shrink-0 rounded-full text-zinc-500 hover:text-white hover:bg-zinc-800 transition-all">
                <i data-lucide="map" class="w-4 h-4 sm:w-5 sm:h-5"></i>
            </button>
            <button onclick="toggleTool('settings')" id="btn-tool-settings"
                class="p-2.5 sm:p-3 flex-shrink-0 rounded-full text-zinc-500 hover:text-white hover:bg-zinc-800 transition-all">
                <i data-lucide="settings-2" class="w-4 h-4 sm:w-5 sm:h-5"></i>
            </button>
        </div>
    </div>


    <div id="breathingOverlay"
        class="fixed inset-0 z-[60] bg-black flex flex-col items-center justify-center opacity-0 pointer-events-none transition-opacity duration-700">
        <div id="breathCircleContainer" class="relative flex items-center justify-center transition-all duration-500">
            <div id="breathGhost" class="absolute w-64 h-64 rounded-full border border-zinc-700 opacity-30 scale-50">
            </div>
            <div id="breathCircleMain"
                class="w-64 h-64 rounded-full border-2 border-zinc-500 shadow-[0_0_30px_rgba(255,255,255,0.1)] scale-50 transition-all duration-[5000ms] ease-in-out">
            </div>
            <div class="absolute text-center">
                <div id="breathInstruct"
                    class="text-2xl font-light text-white tracking-widest uppercase transition-opacity duration-500">
                    Chuẩn bị...</div>
            </div>
        </div>
        <div id="breathResult" class="hidden text-center transform transition-all duration-700">
            <div class="text-4xl md:text-6xl font-thin text-white mb-4 tracking-tighter">Tốt lắm</div>
        </div>
        <div id="breathTimerDisplay"
            class="mt-16 text-zinc-500 font-mono text-xl tracking-widest transition-opacity duration-500">00:00</div>
        <button id="btnCloseBreath" onclick="closeBreathingOverlay()"
            class="mt-8 px-8 py-3 border border-zinc-800 text-zinc-500 hover:text-white hover:border-zinc-500 rounded-full text-xs uppercase tracking-widest transition-all">THOÁT</button>
    </div>

</body>
<script>
    /* =========================================
       1. CẤU HÌNH & KHỞI TẠO (CONFIG & INIT)
       ========================================= */
    const sounds = [
        { id: 'rain', name: 'Mưa', icon: 'cloud-rain' },
        { id: 'thunder', name: 'Sấm', icon: 'zap' },
        { id: 'wind', name: 'Gió', icon: 'wind' },
        { id: 'fire', name: 'Lửa', icon: 'flame' },
        { id: 'night', name: 'Đêm', icon: 'moon' },
        { id: 'waves', name: 'Sóng', icon: 'waves' },
        { id: 'fan', name: 'Quạt', icon: 'fan' },
        { id: 'coffee', name: 'Cafe', icon: 'coffee' }
    ];

    const soundManager = {};
    let activeToolId = null;
    let isZenMode = false;

    // Cấu hình đồng hồ
    const clockConfig = {
        showSeconds: false,
        showMillis: false
    };

    document.addEventListener('DOMContentLoaded', () => {
        // 1. Khởi tạo dữ liệu
        renderSounds();
        initWeather();

        // 2. Bắt đầu vòng lặp đồng hồ (dùng animation frame cho mượt)
        loopClock();

        // 3. Set giá trị mặc định cho các input thời gian
        const nowStr = new Date().toTimeString().substring(0, 5);
        if (document.getElementById('input-bedtime')) document.getElementById('input-bedtime').value = nowStr;
        if (document.getElementById('diff-start')) document.getElementById('diff-start').value = nowStr;
        if (document.getElementById('input-waketime')) document.getElementById('input-waketime').value = "06:30";

        // 4. Sự kiện click vào đồng hồ để bật Zen Mode
        document.getElementById('mainClock').addEventListener('click', toggleZenMode);

        // 5. Chạy random quote và icon
        setTimeout(Quotes, 500);
        lucide.createIcons();
    });

    /* =========================================
       2. QUẢN LÝ GIAO DIỆN DOCK (TOOL MANAGER)
       ========================================= */
    function toggleTool(toolId) {
        // Không cho mở tool khi đang focus mode (trừ khi dừng focus)
        if (focusActive && toolId !== 'focus') return;

        const container = document.getElementById('activeToolContainer');
        const clock = document.getElementById('mainClock');
        const quote = document.getElementById('quoteDisplay');

        // Case 1: Đang mở tool này -> Đóng lại
        if (activeToolId === toolId) {
            closeTools();
            return;
        }

        // Case 2: Đang mở tool khác -> Ẩn tool cũ
        if (activeToolId) {
            document.getElementById(`tool-${activeToolId}`).classList.add('hidden');
            const oldBtn = document.getElementById(`btn-tool-${activeToolId}`);
            if (oldBtn) {
                oldBtn.classList.remove('text-white', 'bg-zinc-800');
                oldBtn.classList.add('text-zinc-500');
            }
        }

        // Case 3: Mở tool mới
        activeToolId = toolId;
        container.classList.remove('hidden');
        document.getElementById(`tool-${toolId}`).classList.remove('hidden');

        // Highlight nút trên Dock
        const newBtn = document.getElementById(`btn-tool-${toolId}`);
        if (newBtn) {
            newBtn.classList.remove('text-zinc-500');
            newBtn.classList.add('text-white', 'bg-zinc-800');
        }

        // UI Effect: Thu nhỏ đồng hồ
        clock.classList.add('scale-50', '-translate-y-4', 'opacity-50');
        quote.classList.add('hidden');

        // Special logic cho Sound tool
        if (toolId === 'sound') {
            const playing = Object.values(soundManager).find(s => s.isPlaying);
            if (playing) showVolumeControl(playing.id);
        }
    }

    function closeTools() {
        if (!activeToolId) return;

        const container = document.getElementById('activeToolContainer');
        const clock = document.getElementById('mainClock');
        const quote = document.getElementById('quoteDisplay');

        // Ẩn nội dung
        document.getElementById(`tool-${activeToolId}`).classList.add('hidden');

        // Reset nút Dock
        const btn = document.getElementById(`btn-tool-${activeToolId}`);
        if (btn) {
            btn.classList.remove('text-white', 'bg-zinc-800');
            btn.classList.add('text-zinc-500');
        }

        container.classList.add('hidden');

        // Reset UI chính
        clock.classList.remove('scale-50', '-translate-y-4', 'opacity-50');
        if (!isZenMode) quote.classList.remove('hidden'); // Chỉ hiện quote nếu không phải Zen Mode

        activeToolId = null;
    }

    /* =========================================
       3. HỆ THỐNG ÂM THANH (SOUND ENGINE)
       ========================================= */
    class SoundNode {
        constructor(id) {
            this.id = id;
            this.audio = new Audio(`./Sounds/${id}.mp3`);
            this.audio.loop = true;
            this.audio.volume = 0.5;
            this.isPlaying = false;
            this.audio.onerror = () => console.warn(`Missing file: ${id}.mp3`);
        }
        toggle() {
            if (this.isPlaying) {
                this.audio.pause();
                this.isPlaying = false;
            } else {
                this.audio.play().catch(() => { });
                this.isPlaying = true;
            }
            updateSoundUI(this.id);
        }
        stop() {
            this.audio.pause();
            this.audio.currentTime = 0;
            this.isPlaying = false;
            updateSoundUI(this.id);
        }
        setVolume(v) { this.audio.volume = v; }
    }

    function renderSounds() {
        const grid = document.getElementById('soundGrid');
        if (!grid) return;
        grid.innerHTML = '';
        sounds.forEach(s => {
            soundManager[s.id] = new SoundNode(s.id);
            grid.innerHTML += `
                <button id="btn-${s.id}" onclick="clickSound('${s.id}')" 
                    class="flex flex-col items-center justify-center w-full aspect-square bg-zinc-800 border border-zinc-700/50 rounded-xl transition-all duration-300 hover:bg-zinc-700 group">
                    <i data-lucide="${s.icon}" class="w-5 h-5 text-zinc-500 mb-2 transition-colors group-hover:text-zinc-300"></i>
                    <span class="text-[10px] font-medium text-zinc-500 transition-colors group-hover:text-zinc-400">${s.name}</span>
                </button>
            `;
        });
    }

    function clickSound(id) {
        const sound = soundManager[id];
        sound.toggle();

        if (sound.isPlaying) {
            showVolumeControl(id);
        } else {
            // Nếu tắt, kiểm tra xem còn cái nào đang chạy không để hiện volume của cái đó
            const other = Object.values(soundManager).find(s => s.isPlaying);
            if (other) showVolumeControl(other.id);
            else hideVolumeControl();
        }
    }

    function updateSoundUI(id) {
        const btn = document.getElementById(`btn-${id}`);
        const node = soundManager[id];
        const icon = btn.querySelector('i');
        const text = btn.querySelector('span');

        if (node.isPlaying) {
            btn.classList.add('bg-white', 'border-white', 'scale-95');
            btn.classList.remove('bg-zinc-800', 'border-zinc-700/50', 'hover:bg-zinc-700');
            icon.classList.replace('text-zinc-500', 'text-black');
            text.classList.replace('text-zinc-500', 'text-black');
        } else {
            btn.classList.remove('bg-white', 'border-white', 'scale-95');
            btn.classList.add('bg-zinc-800', 'border-zinc-700/50', 'hover:bg-zinc-700');
            icon.classList.replace('text-black', 'text-zinc-500');
            text.classList.replace('text-black', 'text-zinc-500');
        }
    }

    function showVolumeControl(id) {
        const panel = document.getElementById('activeControls');
        const soundName = sounds.find(s => s.id === id).name;
        document.getElementById('controlName').innerText = `Âm lượng: ${soundName}`;

        const slider = document.getElementById('globalVolumeControl');
        slider.value = soundManager[id].audio.volume;
        slider.oninput = (e) => soundManager[id].setVolume(e.target.value);

        panel.classList.remove('opacity-0');
        panel.style.height = '60px';
    }

    function hideVolumeControl() {
        const panel = document.getElementById('activeControls');
        panel.classList.add('opacity-0');
        panel.style.height = '0';
    }

    function stopAllSounds() {
        Object.values(soundManager).forEach(s => s.stop());
        hideVolumeControl();
    }

    /* =========================================
       4. ĐỒNG HỒ, SETTINGS & ZEN MODE
       ========================================= */
    // Toggle cấu hình từ checkbox
    function toggleClockConfig(key) {
        if (key === 'seconds') clockConfig.showSeconds = document.getElementById('chk-seconds').checked;
        if (key === 'millis') clockConfig.showMillis = document.getElementById('chk-millis').checked;

        // Logic phụ thuộc: Millis cần Seconds
        if (key === 'millis' && clockConfig.showMillis) {
            clockConfig.showSeconds = true;
            document.getElementById('chk-seconds').checked = true;
        }
    }

    // Vòng lặp render đồng hồ (requestAnimationFrame)
    function loopClock() {
        updateClock();
        requestAnimationFrame(loopClock);
    }

    function updateClock() {
        if (focusActive) {
            updateFocusTimer(); // Nếu đang Pomodoro thì chạy timer đếm ngược
            return;
        }

        const now = new Date();
        const clockEl = document.getElementById('mainClock');

        // 1. Giờ Phút
        let timeStr = now.toLocaleTimeString('vi-VN', { hour: '2-digit', minute: '2-digit' });

        // 2. Giây
        if (clockConfig.showSeconds) {
            const ss = String(now.getSeconds()).padStart(2, '0');
            timeStr += `:${ss}`;
        }

        // 3. Mili-giây
        let msHTML = "";
        if (clockConfig.showMillis) {
            const ms = String(Math.floor(now.getMilliseconds() / 10)).padStart(2, '0');
            msHTML = `<span class="text-[0.5em] opacity-50 font-mono">.${ms}</span>`;
        }

        clockEl.innerHTML = timeStr + msHTML;
        document.getElementById('dateDisplay').innerText = now.toLocaleDateString('vi-VN', { weekday: 'long', month: 'long', day: 'numeric' });

        // 4. Resize font để không bị tràn
        clockEl.className = "font-extralight leading-none tracking-tighter select-none transition-all duration-300 cursor-pointer";
        if (clockConfig.showMillis) clockEl.classList.add('text-[8vh]', 'md:text-[12vh]');
        else if (clockConfig.showSeconds) clockEl.classList.add('text-[10vh]', 'md:text-[16vh]');
        else clockEl.classList.add('text-[12vh]', 'md:text-[20vh]');
    }

    // Zen Mode: Ẩn/Hiện Header và Dock
    function toggleZenMode() {
        const dock = document.getElementById('bottomPanel');
        const header = document.querySelector('header');

        // Nếu đang mở công cụ thì đóng trước
        if (activeToolId && !isZenMode) {
            closeTools();
        }

        isZenMode = !isZenMode;

        if (isZenMode) {
            dock.classList.add('translate-y-full', 'opacity-0', 'pointer-events-none');
        } else {
            dock.classList.remove('translate-y-full', 'opacity-0', 'pointer-events-none');
        }
    }

    /* =========================================
       5. THỜI TIẾT & VỊ TRÍ (LOCAL STORAGE)
       ========================================= */
    function initWeather() {
        const savedName = localStorage.getItem('zenLocation');
        const savedLat = localStorage.getItem('zenLat');
        const savedLon = localStorage.getItem('zenLon');

        if (savedName && savedLat && savedLon) {
            document.getElementById('manualLocation').value = savedName;
            document.getElementById('locStatus').innerText = "Vị trí đã lưu.";
            fetchWeatherAPI(savedLat, savedLon, savedName);
        } else {
            useGPS();
        }
    }

    async function saveLocation() {
        const city = document.getElementById('manualLocation').value.trim();
        if (!city) return;
        document.getElementById('locStatus').innerText = "Đang tìm...";
        await getWeatherByCity(city);
    }

    async function getWeatherByCity(city) {
        try {
            const geoRes = await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(city)}&count=1&language=vi&format=json`);
            const geoData = await geoRes.json();

            if (!geoData.results || geoData.results.length === 0) {
                document.getElementById('locStatus').innerText = "Không tìm thấy.";
                return;
            }
            const { latitude, longitude, name, admin1 } = geoData.results[0];
            const displayName = admin1 ? `${name}, ${admin1}` : name;
            saveToLocal(displayName, latitude, longitude);
            document.getElementById('manualLocation').value = displayName;
            await fetchWeatherAPI(latitude, longitude, displayName);
        } catch (e) { console.error(e); }
    }

    async function useGPS() {
        const status = document.getElementById('locStatus');
        status.innerText = "Đang định vị...";
        if (!navigator.geolocation) { status.innerText = "Lỗi GPS."; return; }

        navigator.geolocation.getCurrentPosition(async (pos) => {
            const { latitude, longitude } = pos.coords;
            let finalName = "Vị trí của bạn";
            try {
                const res = await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${latitude}&longitude=${longitude}&localityLanguage=vi`);
                if (res.ok) {
                    const data = await res.json();
                    finalName = data.city || data.locality || finalName;
                }
            } catch (e) { }

            saveToLocal(finalName, latitude, longitude);
            document.getElementById('manualLocation').value = finalName;
            await fetchWeatherAPI(latitude, longitude, finalName);
        }, () => status.innerText = "Bị chặn quyền GPS.");
    }

    function saveToLocal(name, lat, lon) {
        localStorage.setItem('zenLocation', name);
        localStorage.setItem('zenLat', lat);
        localStorage.setItem('zenLon', lon);
        document.getElementById('locStatus').innerText = "Đã cập nhật.";
    }

    async function fetchWeatherAPI(lat, lon, name) {
        try {
            const res = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`);
            const data = await res.json();
            const w = data.current_weather;

            let icon = 'cloud';
            if (w.weathercode === 0) icon = 'sun';
            else if (w.weathercode <= 3) icon = 'cloud-sun';
            else if (w.weathercode >= 95) icon = 'zap';
            else if (w.weathercode >= 51) icon = 'cloud-rain';

            document.getElementById('weatherDisplay').innerHTML = `<i data-lucide="${icon}" class="w-3 h-3"></i> ${Math.round(w.temperature)}°C • ${name}`;
            lucide.createIcons();
        } catch (e) {
            document.getElementById('weatherDisplay').innerText = "Lỗi mạng";
        }
    }

    /* =========================================
       6. CHẾ ĐỘ TẬP TRUNG (FOCUS/POMODORO)
       ========================================= */
    let focusActive = false, focusEnd = 0, focusInterval = null;

    function startFocusCustom() {
        const val = document.getElementById('customFocusInput').value;
        if (val > 0) startFocus(val);
    }

    function startFocus(mins) {
        closeTools();
        if (focusInterval) clearInterval(focusInterval);

        focusEnd = Date.now() + mins * 60000;
        focusActive = true;

        // UI: Ẩn dock, hiện nút Stop
        document.getElementById('bottomPanel').classList.add('translate-y-full', 'opacity-0', 'pointer-events-none');
        document.getElementById('focusLabel').classList.remove('hidden');

        const btnStop = document.getElementById('btn-stop-main');
        btnStop.classList.remove('hidden');
        setTimeout(() => btnStop.classList.remove('opacity-0', 'translate-y-4'), 50);

        updateClock();
    }

    function stopFocus() {
        focusActive = false;
        clearInterval(focusInterval);

        // UI: Reset
        document.getElementById('focusLabel').classList.add('hidden');
        const btnStop = document.getElementById('btn-stop-main');
        btnStop.classList.add('opacity-0', 'translate-y-4');
        setTimeout(() => btnStop.classList.add('hidden'), 500);

        document.getElementById('bottomPanel').classList.remove('translate-y-full', 'opacity-0', 'pointer-events-none');
        updateClock();
    }

    function updateFocusTimer() {
        const diff = focusEnd - Date.now();
        if (diff <= 0) {
            stopFocus();
            // Có thể thêm âm thanh thông báo hết giờ ở đây
            return;
        }
        const m = Math.floor(diff / 60000);
        const s = Math.floor((diff % 60000) / 1000);
        document.getElementById('mainClock').innerText = `${m}:${s.toString().padStart(2, '0')}`;
    }

    /* =========================================
       7. MÁY TÍNH GIẤC NGỦ
       ========================================= */
    let currentSleepTab = 'bedtime';
    function switchSleepTab(tab) {
        currentSleepTab = tab;
        ['bedtime', 'waketime', 'duration'].forEach(t => {
            const btn = document.getElementById(`tab-${t}`);
            const view = document.getElementById(`view-${t}`);
            if (t === tab) {
                btn.classList.replace('tab-inactive', 'tab-active');
                view.classList.remove('hidden');
            } else {
                btn.classList.replace('tab-active', 'tab-inactive');
                view.classList.add('hidden');
            }
        });
        document.getElementById('sleepResultContainer').classList.add('hidden');
    }

    function calcSmartSleep(mode) {
        const resultBox = document.getElementById('sleepResultContainer');
        const list = document.getElementById('sleepResultContent');
        const durBox = document.getElementById('durationResult');

        resultBox.classList.remove('hidden');
        list.classList.remove('hidden');
        durBox.classList.add('hidden');
        list.innerHTML = '';

        const inputId = mode === 'bedtime' ? 'input-bedtime' : 'input-waketime';
        const timeVal = document.getElementById(inputId).value;
        if (!timeVal) return;

        const baseDate = new Date();
        const [h, m] = timeVal.split(':');
        baseDate.setHours(h, m, 0);

        // Chu kỳ ngủ 90p + 14p đi vào giấc ngủ
        const cycles = mode === 'bedtime' ? [3, 4, 5, 6] : [6, 5, 4, 3];

        cycles.forEach(c => {
            let tempTime = new Date(baseDate.getTime());
            let minutes = (c * 90) + 14;

            if (mode === 'bedtime') {
                if (tempTime < new Date()) tempTime.setDate(tempTime.getDate() + 1);
                tempTime.setMinutes(tempTime.getMinutes() + minutes);
            } else {
                if (tempTime < new Date()) tempTime.setDate(tempTime.getDate() + 1);
                tempTime.setMinutes(tempTime.getMinutes() - minutes);
            }

            const isBest = (c === 5 || c === 6);
            const timeStr = tempTime.toLocaleTimeString('vi-VN', { hour: '2-digit', minute: '2-digit' });

            list.innerHTML += `
                <div class="rounded-lg p-3 border ${isBest ? 'bg-white text-black border-white' : 'bg-zinc-800 border-zinc-700 text-zinc-400'} flex flex-col items-center justify-center relative">
                    ${isBest ? '<i data-lucide="star" class="absolute top-1 right-1 w-3 h-3 text-yellow-500 fill-current"></i>' : ''}
                    <span class="text-xl font-bold tracking-tight">${timeStr}</span>
                    <span class="text-[10px] uppercase opacity-80">${c} chu kỳ</span>
                </div>
            `;
        });
        lucide.createIcons();
    }

    function calcDuration() {
        const start = document.getElementById('diff-start').value;
        const end = document.getElementById('diff-end').value;
        if (!start || !end) return;

        const box = document.getElementById('sleepResultContainer');
        box.classList.remove('hidden');
        document.getElementById('sleepResultContent').classList.add('hidden');
        const txt = document.getElementById('durationResult');
        txt.classList.remove('hidden');

        const [h1, m1] = start.split(':').map(Number);
        const [h2, m2] = end.split(':').map(Number);
        let min1 = h1 * 60 + m1;
        let min2 = h2 * 60 + m2;
        if (min2 < min1) min2 += 1440;

        const diff = min2 - min1;
        const h = Math.floor(diff / 60);
        const m = diff % 60;

        txt.innerHTML = `
            <div class="text-xs text-zinc-500 mb-1 uppercase">Tổng thời gian</div>
            <div class="text-4xl font-light">${h}h ${m}p</div>
        `;
    }

    /* =========================================
       8. THƯ GIÃN (BREATHING)
       ========================================= */
    let breathTimer = null, breathCycle = null;

    function startBreathing(seconds) {
        closeTools();
        const overlay = document.getElementById('breathingOverlay');
        overlay.classList.remove('opacity-0', 'pointer-events-none');

        document.getElementById('breathResult').classList.add('hidden');
        document.getElementById('breathCircleContainer').classList.remove('hidden');
        document.getElementById('breathTimerDisplay').classList.remove('hidden');
        document.getElementById('btnCloseBreath').innerText = "THOÁT";

        let timeLeft = seconds;
        updateBreathTime(timeLeft);

        breathTimer = setInterval(() => {
            timeLeft--;
            updateBreathTime(timeLeft);
            if (timeLeft <= 0) finishBreathing();
        }, 1000);

        runBreathAnim();
        breathCycle = setInterval(runBreathAnim, 10000);
    }

    function runBreathAnim() {
        const circle = document.getElementById('breathCircleMain');
        const text = document.getElementById('breathInstruct');

        circle.classList.add('breath-in');
        text.innerText = "Hít vào...";
        text.style.opacity = "1";

        setTimeout(() => {
            const overlay = document.getElementById('breathingOverlay');
            if (!overlay.classList.contains('opacity-0')) {
                circle.classList.remove('breath-in');
                text.innerText = "Thở ra...";
                text.style.opacity = "0.7";
            }
        }, 5000);
    }

    function updateBreathTime(s) {
        const m = Math.floor(s / 60);
        const sec = s % 60;
        document.getElementById('breathTimerDisplay').innerText = `${m.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
    }

    function finishBreathing() {
        clearInterval(breathTimer);
        clearInterval(breathCycle);
        document.getElementById('breathCircleContainer').classList.add('hidden');
        document.getElementById('breathTimerDisplay').classList.add('hidden');
        document.getElementById('breathResult').classList.remove('hidden');
        document.getElementById('btnCloseBreath').innerText = "ĐÓNG";
    }

    function closeBreathingOverlay() {
        clearInterval(breathTimer);
        clearInterval(breathCycle);
        document.getElementById('breathingOverlay').classList.add('opacity-0', 'pointer-events-none');
        document.getElementById('breathCircleMain').classList.remove('breath-in');
    }

    /* =========================================
       9. KỂ CHUYỆN & QUOTES
       ========================================= */
    let isStoryPlaying = false;
    const storyAudio = new Audio('https://actions.google.com/sounds/v1/water/waves_crashing_on_rock_beach.ogg');
    storyAudio.loop = true;

    function toggleStory() {
        const btn = document.getElementById('storyBtn');
        if (isStoryPlaying) {
            storyAudio.pause();
            btn.innerHTML = '<i data-lucide="play" class="w-3 h-3"></i>';
            btn.classList.replace('bg-white', 'bg-zinc-800');
            btn.classList.replace('text-black', 'text-white');
        } else {
            storyAudio.play().catch(() => { });
            btn.innerHTML = '<i data-lucide="pause" class="w-3 h-3"></i>';
            btn.classList.replace('bg-zinc-800', 'bg-white');
            btn.classList.replace('text-white', 'text-black');
        }
        isStoryPlaying = !isStoryPlaying;
        lucide.createIcons();
    }

    function Quotes() {
        const quotes = [
            // --- Nhóm: Buông bỏ âu lo ---
            "Hãy để mọi âu lo của ngày hôm nay trôi theo gió.",
            "Đừng mang những rắc rối lên giường ngủ, hãy để chúng ngoài cửa.",
            "Chuyện hôm nay đã xong, ngày mai tính tiếp.",
            "Thở ra mệt mỏi, hít vào bình yên.",
            "Buông bỏ là bước đầu tiên để có một giấc ngủ ngon.",
            "Không có gì quan trọng hơn sự bình yên trong tâm trí bạn lúc này.",
            "Tắt đèn, tắt wifi, bật chế độ an nhiên.",
            "Quên đi ngày hôm qua, đừng lo cho ngày mai, hãy sống trọn giấc ngủ này.",
            "Mọi chuyện rồi sẽ ổn thôi, hãy ngủ một giấc thật sâu.",
            "Gác lại bộn bề, trả lại cho đêm sự tĩnh lặng.",

            // --- Nhóm: Chữa lành & Yêu bản thân ---
            "Bạn đã làm việc chăm chỉ rồi, giờ là lúc nghỉ ngơi.",
            "Yêu bản thân là biết cách cho mình một giấc ngủ trọn vẹn.",
            "Giấc ngủ là liều thuốc chữa lành tốt nhất cho tâm hồn.",
            "Cơ thể bạn xứng đáng được sạc lại năng lượng.",
            "Hãy dịu dàng với chính mình, đặc biệt là đêm nay.",
            "Cho phép bản thân được yếu đuối, được nghỉ ngơi.",
            "Bạn là phiên bản tốt nhất khi bạn được nghỉ ngơi đầy đủ.",
            "Cảm ơn cơ thể vì đã mạnh mẽ suốt một ngày dài.",
            "Hạnh phúc đơn giản là được chui vào chăn ấm nệm êm.",
            "Ngủ ngon nhé, cả thế giới dịu dàng đang ôm lấy bạn.",

            // --- Nhóm: Thiên nhiên & Tĩnh lặng ---
            "Tâm tĩnh lặng, đời an nhiên.",
            "Đêm càng tối, sao càng sáng.",
            "Hãy tưởng tượng bạn đang bồng bềnh trên một đám mây.",
            "Lắng nghe tiếng đêm, tìm về sự an yên từ sâu bên trong.",
            "Như chiếc lá nhẹ nhàng rơi, hãy thả lỏng toàn thân.",
            "Trăng thanh gió mát, ru hồn vào mộng.",
            "Để tiếng mưa (hoặc tiếng gió) cuốn đi mọi ưu phiền.",
            "Bình yên không ở đâu xa, nó nằm ngay trong hơi thở của bạn.",
            "Sự tĩnh lặng của màn đêm là món quà dành riêng cho bạn.",
            "Hãy ngủ như một đứa trẻ, vô tư và không mộng mị.",

            // --- Nhóm: Hy vọng & Ngày mới ---
            "Ngày mai nắng sẽ lại lên rực rỡ.",
            "Kết thúc một ngày để bắt đầu một khởi đầu mới tốt đẹp hơn.",
            "Những giấc mơ đẹp đang chờ đón bạn ở phía trước.",
            "Chúc bạn có một giấc mơ ngọt ngào như mật ong.",
            "Đêm nay sạc đầy năng lượng, ngày mai chinh phục thế giới.",
            "Sau cơn mưa trời lại sáng, sau giấc ngủ đời lại tươi.",
            "Mỗi giấc ngủ là một chuyến du hành đến vùng đất của những điều kỳ diệu."
        ];

        // Logic chọn ngẫu nhiên và hiển thị
        const q = document.getElementById('quoteDisplay');
        if (q) {
            // Hiệu ứng Fade out trước khi đổi chữ
            q.classList.add('opacity-0');

            setTimeout(() => {
                const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
                q.innerText = `"${randomQuote}"`;
                // Hiệu ứng Fade in
                q.classList.remove('opacity-0');
            }, 500); // Đợi 0.5s cho transition ẩn đi rồi mới đổi chữ
        }
    }
</script>

</html>
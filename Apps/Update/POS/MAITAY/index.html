<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mai Tây Hair Salon</title>

    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="icon" href="./Asset/Logo.png">
    <link rel="apple-touch-icon" href="./Asset/Logo.png" sizes="150x150">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/driver.js@latest/dist/driver.css" />

    <link href="../Asset/style.css" rel="stylesheet">
</head>

<body>
    <div id="login-screen">
        <div id="login-box">
            <img src="./Asset/Logo.png" alt="Logo Salon" style="width: 100px; margin-bottom: 20px;">
            <h2>Hệ thống quản lý</h2>
            <input type="email" id="login-email" placeholder="Email" required>
            <input type="password" id="login-password" placeholder="Mật khẩu" required>
            <button id="login-button">Đăng nhập</button>
            <a href="#" id="forgot-password-link">Quên mật khẩu?</a>
            <p id="login-error" class="error-message"></p>
        </div>
    </div>

    <div id="main-app">
        <div id="overlay">
            <span>Đang xử lý, vui lòng chờ...</span>
        </div>
        <header class="header">
            <div class="logo">
                <h1 id="logoText">Mai Tây <span>Hair Salon</span></h1>
            </div>
            <div class="flex">
                 <div class="tab-buttons">
                    <div class="flex">
                        <div class="tab-button" onclick="switchTab('pos')"><i class="fas fa-cash-register"></i> <span>POS</span></div>
                        <div class="tab-button" onclick="switchTab('history')"><i class="fa-solid fa-clock-rotate-left"></i> <span>Lịch sử</span></div>
                        <div class="tab-button" onclick="switchTab('setting')"><i class="fa-solid fa-gear"></i> <span>Cài đặt</span></div>
                        <div class="tab-button" onclick="switchTab('dashboard')"><i class="fas fa-chart-pie"></i> <span>Thống kê</span></div>
                        <div class="tab-button" id="logout-button"><i class="fas fa-sign-out-alt"></i> <span>Đăng xuất</span></div>
                    </div>
                </div>
            </div>
        </header>

        <div class="tab-container">
            <div id="pos" class="tab-content">
                </div>
             <div id="history" class="tab-content">
                <div class="history-controls">
                    <button onclick="loadHistoryFromFirebase()">Tải Lịch Sử Hóa Đơn</button>
                    <button onclick="HistoryManager.downloadAsExcel()">Tải xuống (Excel)</button>
                </div>
                <div id="historylist"></div>
             </div>
             <div id="setting" class="tab-content active">
                 <div class="control">
                    <h1><i class="fas fa-cog"></i> Cài đặt</h1>
                    <button onclick="syncProductsFromFirebase()"><i class="fa-solid fa-rotate"></i> Đồng bộ sản phẩm</button>
                    <button onclick="syncCustomersFromFirebase()"><i class="fa-solid fa-address-book"></i> Đồng Bộ Khách Hàng</button>
                </div>
                </div>
             <div id="dashboard" class="tab-content">
                </div>
        </div>

        <footer class="footer">
            Powered by <a href="http://fb.com/HunqD" target="_blank" rel="noopener noreferrer">Đinh Mạnh Hùng</a>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/driver.js@latest/dist/driver.js.iife.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lz-string/1.4.4/lz-string.min.js"></script>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <script src="../firebase/config.js"></script>
    <script src="../firebase/auth.js"></script>
    <script src="../firebase/firestore.js"></script>
    <script src="./Asset/main.js"></script>
</body>
</html>
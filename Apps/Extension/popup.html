<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smiles Remit Pro</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="bg-blobs">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
    </div>

    <div class="card">
        <h2>Smiles Remit Pro</h2>
        
        <div class="status-bar">
            <div id="rateDisplay" class="rate-display">Đang tải tỷ giá...</div>
            <div id="lastUpdatedTime" class="time-display"></div>
        </div>

        <div class="toggle-wrapper">
            <div>
                <div class="toggle-text" id="modeLabel">Chế độ Thường (Cộng phí)</div>
                <span class="toggle-sub" id="modeSub">Nhập số tiền muốn gửi đi</span>
            </div>
            <label class="switch">
                <input type="checkbox" id="modeToggle">
                <span class="slider"></span>
            </label>
        </div>

        <div class="input-container" id="containerJPY">
            <div class="input-wrapper">
                <label class="input-label" id="labelJPY">Bạn gửi đi (Tiền gốc)</label>
                <input type="text" id="inputJPY" class="input-field" placeholder="50,000">
            </div>
            <span class="currency">JPY</span>
        </div>

        <div class="input-container">
            <div class="input-wrapper">
                <label class="input-label">Người nhận được</label>
                <input type="text" id="inputVND" class="input-field" placeholder="0">
            </div>
            <span class="currency">VND</span>
        </div>

        <div class="result-box">
            
            <div class="points-input-row">
                <span class="points-label">Sử dụng điểm (-):</span>
                <div style="display:flex; align-items:center;">
                    <input type="text" id="inputPoints" class="points-input" placeholder="0">
                    <span style="font-size: 0.8rem; color: #999; margin-left: 5px;">pts</span>
                </div>
            </div>

            <div id="rowRealSend" class="real-send-row">
                <span>Gửi thực tế:</span>
                <div class="right-group">
                    <span id="realSendDisplay" class="real-send-val">0 ¥</span>
                    <button class="btn-copy mini" id="btnCopyReal" title="Sao chép">
                        <div class="copy-tooltip" id="tooltipReal">Đã sao chép!</div>
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                    </button>
                </div>
            </div>

            <div class="info-row">
                <span class="row-label">Phí chuyển tiền (+):</span>
                <span class="row-val val-fee" id="feeDisplay">0 ¥</span>
            </div>
            <div class="info-row">
                <span class="row-label">Điểm thưởng nhận được:</span>
                <span class="row-val val-points" id="pointDisplay">+0 pts</span>
            </div>

            <div class="total-row">
                <span class="total-label" id="labelTotal">Tổng thanh toán</span>
                <div class="right-group">
                    <div class="total-amount" id="totalPayDisplay">0 ¥</div>
                    <button class="btn-copy" id="btnCopyTotal" title="Sao chép">
                        <div class="copy-tooltip" id="tooltipTotal">Đã sao chép!</div>
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                    </button>
                </div>
            </div>
        </div>

        <button class="btn-refresh" id="btnRefresh">
            <div class="spinner"></div>
            <span>Cập nhật Tỷ giá Mới nhất</span>
        </button>
    </div>

    <script src="popup.js"></script>
</body>
</html>
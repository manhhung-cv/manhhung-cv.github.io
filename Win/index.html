<!DOCTYPE html>
<html lang="vi">
<head>
     <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>Hunq.</title>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

   <!-- Biểu tượng cho web -->
    <link rel="icon" href="/Asset/logo/logo.png">

    <!-- Biểu tượng iPhone -->
    <link rel="apple-touch-icon" href="/Asset/logo/logo.png" sizes="150x150">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&family=Manrope:wght@300;400;600;700&family=Newsreader:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        :root {
            /* Theme Variables */
            --bg-body: #fbfbfb;
            --bg-sidebar: #f2f2f2;
            --bg-card: #ffffff;
            --bg-code: #1e1e2e;
            --bg-overlay: rgba(255, 255, 255, 0.85);
            
            --text-main: #18181b;
            --text-muted: #71717a;
            --border: #e4e4e7;
            
            --accent: #2563eb;
            --accent-hover: #1d4ed8;

            --font-sans: 'Manrope', sans-serif;
            --font-serif: 'Newsreader', serif;
            --font-mono: 'JetBrains Mono', monospace;
            
            --sidebar-width: 260px;
            --container-width: 720px;
        }

        [data-theme="dark"] {
            --bg-body: #121212;
            --bg-sidebar: #0a0a0a;
            --bg-card: #18181b;
            --bg-code: #0d0d0d;
            --bg-overlay: rgba(10, 10, 10, 0.85);
            
            --text-main: #f4f4f5;
            --text-muted: #a1a1aa;
            --border: #27272a;
            
            --accent: #3b82f6;
            --accent-hover: #60a5fa;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-sans);
            background-color: var(--bg-body);
            color: var(--text-main);
            transition: background-color 0.3s ease, color 0.3s ease;
            height: 100vh;
            overflow: hidden;
            display: flex;
        }

        /* --- Sidebar --- */
        aside {
            width: var(--sidebar-width);
            background-color: var(--bg-sidebar);
            border-right: 1px solid var(--border);
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            flex-shrink: 0;
            z-index: 50;
        }

        .brand {
            font-family: var(--font-serif);
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: -0.5px;
            margin-bottom: 2rem;
            cursor: pointer;
        }

        .nav-items { display: flex; flex-direction: column; gap: 0.5rem; }
        
        .nav-item {
            display: flex; align-items: center; gap: 12px;
            padding: 10px 12px;
            border-radius: 8px;
            color: var(--text-muted);
            cursor: pointer;
            transition: 0.2s;
            font-weight: 500;
            font-size: 0.95rem;
        }

        .nav-item:hover, .nav-item.active {
            background-color: var(--bg-card);
            color: var(--text-main);
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }

        .shortcut-badge {
            margin-left: auto;
            font-size: 0.7rem;
            background: var(--border);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: var(--font-mono);
            opacity: 0.7;
        }

        .sidebar-footer {
            display: flex; align-items: center; justify-content: space-between;
        }

        .theme-toggle, .mobile-search-btn {
            background: none; border: none; cursor: pointer;
            color: var(--text-muted);
            padding: 8px; border-radius: 50%;
            transition: 0.2s;
        }
        .theme-toggle:hover, .mobile-search-btn:hover { background: var(--border); color: var(--text-main); }

        /* --- Main Content --- */
        main {
            flex: 1;
            overflow-y: auto;
            position: relative;
            scroll-behavior: smooth;
        }

        .container {
            max-width: var(--container-width);
            margin: 0 auto;
            padding: 4rem 2rem 8rem;
        }

        .view-section { display: none; animation: fadeIn 0.4s ease; }
        .view-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- Search Modal (Overlay) --- */
        #search-modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: var(--bg-overlay);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            z-index: 1000;
            align-items: flex-start;
            justify-content: center;
            padding-top: 15vh;
            animation: fadeInModal 0.2s ease-out;
        }
        
        #search-modal.open { display: flex; }

        @keyframes fadeInModal { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }

        .search-box {
            width: 100%; max-width: 600px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .search-header {
            display: flex; align-items: center;
            padding: 1.25rem;
            border-bottom: 1px solid var(--border);
        }

        .search-input {
            flex: 1;
            border: none;
            background: none;
            font-size: 1.2rem;
            color: var(--text-main);
            margin-left: 1rem;
            outline: none;
            font-family: var(--font-sans);
        }

        .search-results {
            max-height: 50vh;
            overflow-y: auto;
            padding: 0.5rem;
        }

        .search-result-item {
            padding: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: 0.2s;
            border-left: 3px solid transparent;
        }

        .search-result-item:hover, .search-result-item.selected {
            background-color: var(--bg-sidebar);
            border-left-color: var(--accent);
        }

        .search-result-title { font-weight: 600; margin-bottom: 0.3rem; color: var(--text-main); }
        .search-result-excerpt { font-size: 0.85rem; color: var(--text-muted); display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }

        .search-empty { padding: 2rem; text-align: center; color: var(--text-muted); }

        .modal-footer {
            padding: 0.8rem 1.25rem;
            background: var(--bg-sidebar);
            border-top: 1px solid var(--border);
            font-size: 0.75rem;
            color: var(--text-muted);
            display: flex;
            justify-content: space-between;
        }

        /* --- Post Card --- */
        .section-header { margin-bottom: 3rem; }
        .section-title { font-family: var(--font-serif); font-size: 2.5rem; font-weight: 400; margin-bottom: 0.5rem; }
        .section-desc { color: var(--text-muted); }

        .post-card {
            display: block; background: var(--bg-card); border: 1px solid var(--border);
            border-radius: 12px; margin-bottom: 2rem; cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s; overflow: hidden;
        }
        .post-card:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(0,0,0,0.04); border-color: #222222; }
        .card-image { width: 100%; height: 200px; object-fit: cover; border-bottom: 1px solid var(--border); }
        .card-content { padding: 1.5rem; }
        .card-meta { font-size: 0.75rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 0.8rem; display: flex; gap: 10px; }
        .card-title { font-size: 1.25rem; font-weight: 700; margin-bottom: 0.8rem; line-height: 1.4; }
        .card-excerpt { font-size: 0.95rem; color: var(--text-muted); line-height: 1.6; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }

        /* --- Article Detail --- */
        .back-btn { display: inline-flex; align-items: center; gap: 8px; color: var(--text-muted); cursor: pointer; margin-bottom: 2rem; font-size: 0.9rem; transition: 0.2s; }
        .back-btn:hover { color: var(--text-main); transform: translateX(-4px); }
        .article-header h1 { font-family: var(--font-serif); font-size: 2.2rem; line-height: 1.3; margin-bottom: 1rem; }
        .article-meta { font-family: var(--font-mono); font-size: 0.8rem; color: var(--text-muted); margin-bottom: 2rem; border-bottom: 1px solid var(--border); padding-bottom: 2rem; }
        .article-content { font-size: 1.1rem; line-height: 1.8; color: var(--text-main); }
        .article-content p { margin-bottom: 1.5rem; }
        .article-content a { color: var(--accent); text-decoration: none; border-bottom: 1px solid transparent; }
        .article-content a:hover { border-bottom-color: var(--accent); }
        .article-content ul, .article-content ol { margin-bottom: 1.5rem; padding-left: 1.5rem; }

        /* Code Blocks */
        .article-content blockquote {
            background: var(--bg-code); color: #e4e4e7; border-radius: 8px;
            padding: 3rem 1.5rem 0;
            margin: 1rem -1.5rem;
            font-family: var(--font-mono); font-size: 0.9rem; position: relative;
            overflow-x: auto; border: 1px solid #333; box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        .article-content blockquote::before {
            content: "Terminal"; position: absolute; top: 10px; left: 15px;
            font-size: 0.7rem; color: #666; text-transform: uppercase; letter-spacing: 1px;
        }
        .copy-btn {
            position: absolute; top: 8px; right: 8px;
            background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.1);
            color: #fff; padding: 4px 10px; border-radius: 4px;
            font-size: 0.75rem; cursor: pointer; display: flex; align-items: center; gap: 6px;
            transition: 0.2s; font-family: var(--font-sans);
        }
        .copy-btn:hover { background: rgba(255,255,255,0.2); }
        .copy-btn.copied { background: #22c55e; border-color: #22c55e; }

        /* Skeleton */
        .skeleton { background: linear-gradient(90deg, var(--bg-card) 25%, var(--bg-sidebar) 50%, var(--bg-card) 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; border-radius: 6px; }
        @keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
        .sk-card { height: 300px; margin-bottom: 2rem; border-radius: 12px; }

        /* --- Mobile Responsive --- */
        @media (max-width: 768px) {
            body { flex-direction: column; }
            aside {
                position: fixed; bottom: 0; left: 0; width: 100%; height: 60px;
                padding: 0 1rem; border-right: none; border-top: 1px solid var(--border);
                flex-direction: row; align-items: center; justify-content: center;
                background: rgba(var(--bg-card), 0.9); backdrop-filter: blur(10px);
            }
            .brand, .sidebar-footer { display: none; }
            .nav-items { flex-direction: row; width: 100%; justify-content: space-around; }
            .nav-item { flex-direction: column; gap: 4px; font-size: 0.65rem; padding: 5px; }
            .nav-item i { width: 20px; height: 20px; }
            .shortcut-badge { display: none; }
            main { padding-bottom: 70px; }
            .container { padding: 2rem 1.25rem 4rem; --container-width: 100%; }
            .article-content blockquote { margin: 2rem -1rem; border-radius: 0; border-left: none; border-right: none; }
            
            .mobile-header {
                display: flex; justify-content: space-between; align-items: center;
                padding: 1rem 1.25rem; border-bottom: 1px solid var(--border);
                position: sticky; top: 0; background: var(--bg-body); z-index: 40;
            }
            #search-modal { padding-top: 0; align-items: flex-start; }
            .search-box { height: 100vh; border-radius: 0; border: none; max-width: 100%; }
            .search-results { max-height: none; flex: 1; }
        }

        @media (min-width: 769px) { .mobile-header { display: none; } }
    </style>
</head>
<body data-theme="light">

    <div class="mobile-header">
        <span class="brand" style="margin:0; font-size:1.4rem;" onclick="switchView('home')">Hunq.</span>
        <div style="display:flex; gap:1rem; align-items:center;">
            <button class="mobile-search-btn" onclick="openSearch()"><i data-lucide="search"></i></button>
            <button class="theme-toggle" onclick="toggleTheme()"><i data-lucide="sun"></i></button>
        </div>
    </div>

    <aside>
        <div class="brand" onclick="switchView('home')">Hunq.</div>
        <div class="nav-items">
            <div class="nav-item" onclick="openSearch()">
                <i data-lucide="search"></i> <span>Search</span>
                <span class="shortcut-badge">⌘K</span>
            </div>

            <div class="nav-item active" onclick="switchView('home')" id="nav-home">
                <i data-lucide="book-open"></i> <span>Blog</span>
            </div>
            <div class="nav-item" onclick="switchView('about')" id="nav-about">
                <i data-lucide="user"></i> <span>About</span>
            </div>
            
        </div>
        <div class="sidebar-footer">
            <span style="font-size:0.75rem; color:var(--text-muted)">v2.1.0</span>
            <button class="theme-toggle" onclick="toggleTheme()" id="desktop-theme-btn">
                <i data-lucide="sun"></i>
            </button>
        </div>
    </aside>

    <main>
        <section id="view-home" class="view-section active">
            <div class="container">
                <div class="section-header">
                    <h1 class="section-title">Blog</h1>
                    <p class="section-desc">Ghi chú về công nghệ, tối giản và cuộc sống.</p>
                </div>
                <div id="feed-list">
                    <div class="skeleton sk-card"></div>
                    <div class="skeleton sk-card"></div>
                </div>
            </div>
        </section>

        <section id="view-post" class="view-section">
            <div class="container">
                <div class="back-btn" onclick="switchView('home')">
                    <i data-lucide="arrow-left"></i> Quay lại
                </div>
                <article id="article-display"></article>
            </div>
        </section>

        <section id="view-about" class="view-section">
            <div class="container">
                <div class="article-header">
                    <h1>About Hunq.</h1>
                    <div class="article-meta">
                        Mechatronics Engineer • Web Developer
                    </div>
                </div>
                <div class="article-content">
                    <p class="lead" style="font-size: 1.25rem; font-weight: 500; color: var(--text-main);">
                        Xin chào, tôi là Hùng.
                    </p>
                    
                    <p>
                        Tôi là một kỹ sư. Blog chia sẻ những thủ thuật & tiện ích phần mềm.
                    </p>

                    <h2>Giao điểm của công nghệ</h2>
                    <p>
                        Tôi đam mê việc xây dựng cầu nối giữa thế giới thực (Phần cứng) và thế giới số (Phần mềm). Sở trường của tôi bao gồm:
                    </p>
                    <ul>
                        <li><strong>Hệ thống Mechatronics:</strong> Tư duy logic, lập trình PLC và tự động hóa.</li>
                        <li><strong>Web Development:</strong> Xây dựng các ứng dụng web hiện đại, mượt mà (HTML, CSS, JS, Firebase) với tư duy tối ưu hóa trải nghiệm người dùng.</li>
                        <li><strong>IoT & Hardware:</strong> Kết nối vạn vật, Arduino, và các giải pháp phần cứng thông minh.</li>
                    </ul>

                    <h2>Triết lý thiết kế</h2>
                    <blockquote>
                        "Sự đơn giản là đỉnh cao của sự tinh tế."
                    </blockquote>
                    <p>
                        Dù là viết một đoạn code điều khiển máy móc hay thiết kế một giao diện web, tôi luôn theo đuổi <strong>Chủ nghĩa tối giản (Minimalism)</strong>. Tôi tin rằng một sản phẩm tốt là sản phẩm đã loại bỏ hết những thứ dư thừa, chỉ giữ lại những gì tinh túy và hiệu quả nhất.
                    </p>

                    <div style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border);">
                        <p style="font-size: 0.9rem; color: var(--text-muted);">
                            Bạn muốn trao đổi về dự án hoặc ý tưởng công nghệ? <br>
                            Hãy tìm tôi trên <a href="https://facebook.com/HunqD" target="_blank">Facebook</a>.
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div id="search-modal" onclick="closeSearch(event)">
        <div class="search-box" onclick="event.stopPropagation()">
            <div class="search-header">
                <i data-lucide="search" style="color:var(--text-muted)"></i>
                <input type="text" class="search-input" id="search-input" placeholder="Tìm kiếm bài viết..." autocomplete="off">
                <button onclick="closeSearch()" style="background:none; border:none; cursor:pointer; color:var(--text-muted)"><i data-lucide="x"></i></button>
            </div>
            <div class="search-results" id="search-results">
                <div class="search-empty">Nhập từ khóa để tìm kiếm...</div>
            </div>
            <div class="modal-footer">
                <span class="shortcut-badge" style="display:inline-block; margin:0">ESC</span> để đóng
            </div>
        </div>
    </div>

    <script>
        // --- STATE & CONFIG ---
        let posts = [];
        const API_URL = 'https://api.codetabs.com/v1/proxy?quest=' + encodeURIComponent('https://hunqd.wordpress.com/feed/');
        
        // --- DOM ELEMENTS ---
        const feedList = document.getElementById('feed-list');
        const articleDisplay = document.getElementById('article-display');
        const searchModal = document.getElementById('search-modal');
        const searchInput = document.getElementById('search-input');
        const searchResults = document.getElementById('search-results');
        
        const views = {
            home: document.getElementById('view-home'),
            post: document.getElementById('view-post'),
            about: document.getElementById('view-about')
        };
        const navItems = {
            home: document.getElementById('nav-home'),
            about: document.getElementById('nav-about')
        };

        // --- INIT ---
        window.onload = () => {
            initTheme();
            fetchPosts();
            lucide.createIcons();
            
            // Detect OS for shortcut hint
            const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;
            document.querySelectorAll('.shortcut-badge').forEach(el => {
                if(el.textContent.includes('Ctrl') || el.textContent.includes('⌘')) {
                    el.textContent = isMac ? '⌘K' : 'Ctrl+K';
                }
            });
        };

        // --- SHORTCUTS & SEARCH LOGIC ---
        document.addEventListener('keydown', (e) => {
            // CMD/CTRL + K
            if ((e.metaKey || e.ctrlKey) && e.key.toLowerCase() === 'k') {
                e.preventDefault();
                openSearch();
            }
            
            // CMD/CTRL + F (Override Browser Find)
            if ((e.metaKey || e.ctrlKey) && e.key.toLowerCase() === 'f') {
                e.preventDefault(); // Chặn mặc định
                openSearch();
            }

            // ESC
            if (e.key === 'Escape') {
                closeSearch();
            }
        });

        function openSearch() {
            searchModal.classList.add('open');
            searchInput.value = '';
            searchResults.innerHTML = '<div class="search-empty">Nhập từ khóa để tìm kiếm...</div>';
            setTimeout(() => searchInput.focus(), 100);
            document.body.style.overflow = 'hidden'; // Lock scroll
        }

        function closeSearch(e) {
            searchModal.classList.remove('open');
            document.body.style.overflow = '';
        }

        searchInput.addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase().trim();
            if (!query) {
                searchResults.innerHTML = '<div class="search-empty">Nhập từ khóa để tìm kiếm...</div>';
                return;
            }

            const filtered = posts.filter(post => 
                post.title.toLowerCase().includes(query) || 
                post.excerpt.toLowerCase().includes(query)
            );

            if (filtered.length === 0) {
                searchResults.innerHTML = '<div class="search-empty">Không tìm thấy kết quả nào.</div>';
            } else {
                searchResults.innerHTML = filtered.map(post => `
                    <div class="search-result-item" onclick="openPostFromSearch(${post.id})">
                        <div class="search-result-title">${post.title}</div>
                        <div class="search-result-excerpt">${post.excerpt}</div>
                    </div>
                `).join('');
            }
        });

        function openPostFromSearch(id) {
            closeSearch();
            openPost(id);
        }

        // --- THEME ---
        function initTheme() {
            const savedTheme = localStorage.getItem('hunq-theme') || 'light';
            document.body.setAttribute('data-theme', savedTheme);
            updateThemeIcon(savedTheme);
        }

        function toggleTheme() {
            const current = document.body.getAttribute('data-theme');
            const newTheme = current === 'light' ? 'dark' : 'light';
            document.body.setAttribute('data-theme', newTheme);
            localStorage.setItem('hunq-theme', newTheme);
            updateThemeIcon(newTheme);
        }

        function updateThemeIcon(theme) {
            const icons = document.querySelectorAll('.theme-toggle i');
            icons.forEach(icon => {
                icon.setAttribute('data-lucide', theme === 'light' ? 'moon' : 'sun');
            });
            lucide.createIcons();
        }

        // --- NAV ---
        function switchView(viewName) {
            Object.values(views).forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));

            if (views[viewName]) views[viewName].classList.add('active');
            if (navItems[viewName]) navItems[viewName].classList.add('active');

            document.querySelector('main').scrollTop = 0;
            lucide.createIcons();
        }

        // --- DATA ---
        async function fetchPosts() {
            try {
                const res = await fetch(API_URL);
                if (!res.ok) throw new Error("Lỗi mạng");
                
                const text = await res.text();
                const parser = new DOMParser();
                const xml = parser.parseFromString(text, "text/xml");
                const items = xml.querySelectorAll("item");

                posts = Array.from(items).map((item, index) => {
                    const contentRaw = item.getElementsByTagName("content:encoded")[0]?.textContent || "";
                    const descRaw = item.querySelector("description")?.textContent || "";
                    
                    let img = "/Asset/Banner/Banner.png";
                    const imgMatch = contentRaw.match(/<img[^>]+src="([^">]+)"/);
                    if (imgMatch) img = imgMatch[1];

                    const excerpt = descRaw.replace(/<[^>]*>?/gm, '').substring(0, 160) + "...";

                    return {
                        id: index,
                        title: item.querySelector("title")?.textContent || "Untitled",
                        date: new Date(item.querySelector("pubDate")?.textContent).toLocaleDateString('vi-VN'),
                        content: contentRaw,
                        excerpt: excerpt,
                        image: img,
                        category: item.querySelector("category")?.textContent || "General"
                    };
                });
                renderFeed();
            } catch (err) {
                console.error(err);
                feedList.innerHTML = `<div style="text-align:center; padding:2rem; color:var(--text-muted)">Không thể tải dữ liệu.</div>`;
            }
        }

        function renderFeed() {
            if (posts.length === 0) {
                feedList.innerHTML = "<p style='text-align:center'>Không có bài viết nào.</p>";
                return;
            }
            feedList.innerHTML = posts.map(post => `
                <div class="post-card" onclick="openPost(${post.id})">
                    <img src="${post.image}" class="card-image" loading="lazy">
                    <div class="card-content">
                        <div class="card-meta">
                            <span><i data-lucide="tag" style="width:12px; vertical-align:middle"></i> ${post.category}</span>
                            <span>•</span>
                            <span>${post.date}</span>
                        </div>
                        <h3 class="card-title">${post.title}</h3>
                        <p class="card-excerpt">${post.excerpt}</p>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function openPost(id) {
            const post = posts.find(p => p.id === id);
            if (!post) return;
            articleDisplay.innerHTML = `
                <div class="article-header">
                    <h1>${post.title}</h1>
                    <div class="article-meta">Đăng ngày ${post.date} • Thuộc mục ${post.category}</div>
                </div>
                <div class="article-content">${post.content}</div>
            `;
            enhanceCodeBlocks();
            switchView('post');
        }

        function enhanceCodeBlocks() {
            const blocks = document.querySelectorAll('.article-content blockquote');
            blocks.forEach(block => {
                const btn = document.createElement('button');
                btn.className = 'copy-btn';
                btn.innerHTML = `<i data-lucide="clipboard" style="width:14px"></i>`;
                
                btn.addEventListener('click', () => {
                    const text = block.innerText.replace('Copy', '').trim();
                    navigator.clipboard.writeText(text).then(() => {
                        btn.innerHTML = `<i data-lucide="check" style="width:14px"></i>`;
                        btn.classList.add('copied');
                        lucide.createIcons();
                        setTimeout(() => {
                            btn.innerHTML = `<i data-lucide="clipboard" style="width:14px"></i>`;
                            btn.classList.remove('copied');
                            lucide.createIcons();
                        }, 2000);
                    });
                });
                block.appendChild(btn);
            });
            lucide.createIcons();
        }
    </script>
</body>
</html>
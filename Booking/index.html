<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªá Th·ªëng ƒê·∫∑t L·ªãch H·∫πn - Ti·ªám T√≥c (v13 - Admin Tools)</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="styles.css">

    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>

<body>

    <div class="page-container">
        <div class="content-wrapper">
            <header class="main-header">
                <h1 class="title">Salon T√≥c Chuy√™n Nghi·ªáp</h1>
                <p class="subtitle">H·ªá th·ªëng qu·∫£n l√Ω v√† ƒë·∫∑t l·ªãch h·∫πn th√¥ng minh</p>
                <div class="header-admin-button">
                    <button id="showLoginModalButton" class="button button-admin-login">
                        <i data-feather="log-in" class="icon-inline"></i>Admin
                    </button>
                </div>
            </header>

            <div id="adminPanel" class="admin-panel hidden">
                <div class="admin-panel-header">
                    <h2 class="admin-panel-title"><i data-feather="settings" class="icon-title"></i>B·∫£ng ƒêi·ªÅu Khi·ªÉn Admin</h2>
                    <button id="logoutButton" class="button button-logout">
                        <i data-feather="log-out" class="icon-inline"></i>ƒêƒÉng Xu·∫•t
                    </button>
                </div>
                <div class="admin-grid">
                    <div class="admin-card">
                        <h3 class="admin-card-title">C√†i ƒë·∫∑t Salon</h3>
                        <form id="adminSettingsForm" class="form-spacing">
                            <div>
                                <label for="openingTime" class="form-label">Gi·ªù m·ªü c·ª≠a</label>
                                <input type="time" id="openingTime" class="form-input">
                            </div>
                            <div>
                                <label for="closingTime" class="form-label">Gi·ªù ƒë√≥ng c·ª≠a</label>
                                <input type="time" id="closingTime" class="form-input">
                            </div>
                            <div>
                                <label for="maxCapacity" class="form-label">S·ª©c ch·ª©a / khung gi·ªù</label>
                                <input type="number" id="maxCapacity" min="1" class="form-input">
                            </div>
                            <button type="submit" class="button button-primary button-full">L∆∞u C√†i ƒê·∫∑t</button>
                        </form>
                    </div>
                    <div class="admin-card">
                        <h3 class="admin-card-title">C√¥ng c·ª• D·ªØ li·ªáu</h3>
                        <div class="data-tools">
                             <button id="exportCsvButton" class="button button-success button-full">Xu·∫•t CSV</button>
                             <button id="deleteAllButton" class="button button-danger button-full">X√≥a To√†n B·ªô D·ªØ Li·ªáu</button>
                        </div>
                    </div>
                     <div class="admin-card">
                        <h3 class="admin-card-title">Y√™u c·∫ßu t∆∞ v·∫•n</h3>
                        <div id="quickBookingsList" class="card-list"></div>
                    </div>
                </div>
                 <div class="admin-card-full">
                    <h3 class="admin-card-title">Danh s√°ch ƒë√£ t∆∞ v·∫•n</h3>
                    <div id="consultedBookingsList" class="card-list"></div>
                </div>
            </div>

            <main class="main-content">
                <div class="tabs-container">
                    <button id="tab-booking" class="tab-button tab-active">üìÖ ƒê·∫∑t L·ªãch M·ªõi</button>
                    <button id="tab-my-appointments" class="tab-button">üìñ L·ªãch H·∫πn C·ªßa T√¥i</button>
                    <button id="tab-quick-booking" class="tab-button">‚ö° ƒê·∫∑t Ch·ªó Nhanh</button>
                </div>

                <div id="view-booking">
                     <div class="booking-grid">
                        <div class="form-column">
                            <h2 class="section-title">1. ƒêi·ªÅn th√¥ng tin c·ªßa b·∫°n</h2>
                            <form id="bookingForm" class="form-spacing-large">
                                <div>
                                    <label for="customerName" class="form-label">T√™n kh√°ch h√†ng</label>
                                    <input type="text" id="customerName" required class="form-input">
                                </div>
                                <div>
                                    <label for="phoneNumber" class="form-label">S·ªë ƒëi·ªán tho·∫°i</label>
                                    <input type="tel" id="phoneNumber" required class="form-input" placeholder="V√≠ d·ª•: 0912345678">
                                    <p id="phoneNumberError" class="form-error hidden"></p>
                                </div>
                                <div>
                                    <label class="form-label">D·ªãch v·ª•</label>
                                    <div id="serviceOptionsContainer" class="service-grid">
                                        <button type="button" class="service-option" data-service="C·∫Øt t√≥c nam">C·∫Øt t√≥c nam</button>
                                        <button type="button" class="service-option" data-service="C·∫Øt t√≥c n·ªØ">C·∫Øt t√≥c n·ªØ</button>
                                        <button type="button" class="service-option" data-service="G·ªôi ƒë·∫ßu & s·∫•y">G·ªôi ƒë·∫ßu & s·∫•y</button>
                                        <button type="button" class="service-option" data-service="Nhu·ªôm t√≥c">Nhu·ªôm t√≥c</button>
                                        <button type="button" class="service-option" data-service="U·ªën/Du·ªói t√≥c">U·ªën/Du·ªói t√≥c</button>
                                    </div>
                                    <input type="hidden" id="selectedService" required>
                                </div>
                                <input type="hidden" id="selectedTime" required>
                                
                                <div class="g-recaptcha" data-sitekey="6LfBXYwrAAAAAKBB0r3aCkCTYkjt1AdTG8rws7Jw"></div>
                                <button type="submit" id="submitButton" class="button button-primary button-full button-large">Ho√†n T·∫•t ƒê·∫∑t L·ªãch</button>
                            </form>
                        </div>
                        <div class="time-column">
                            <h2 class="section-title">2. Ch·ªçn ng√†y v√† gi·ªù</h2>
                            <div>
                                <label for="bookingDate" class="form-label">Ch·ªçn ng√†y</label>
                                <input type="date" id="bookingDate" required class="form-input">
                            </div>
                            <div class="time-selection">
                                <label class="form-label">Ch·ªçn gi·ªù</label>
                                <div id="timeSlotsContainer" class="timeslot-grid"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="view-my-appointments" class="hidden">
                    <div class="lookup-container">
                        <h2 class="section-title text-center">L·ªãch H·∫πn C·ªßa T√¥i</h2>
                        <p class="section-subtitle text-center">Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i ƒë·ªÉ xem v√† qu·∫£n l√Ω c√°c l·ªãch h·∫πn c·ªßa b·∫°n.</p>
                        <form id="myAppointmentsForm" class="lookup-form">
                            <input type="tel" id="myAppointmentsPhone" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i c·ªßa b·∫°n" required class="form-input form-input-large">
                            <p id="myAppointmentsPhoneError" class="form-error hidden"></p>
                            <button type="submit" class="button button-primary button-full button-large">T√¨m Ki·∫øm</button>
                        </form>
                        <div id="myAppointmentsList" class="appointments-lookup-list"></div>
                    </div>
                </div>

                <div id="view-quick-booking" class="hidden">
                     <div class="quick-booking-container">
                        <h2 class="section-title">ƒê·∫∑t Ch·ªó Nhanh</h2>
                        <p class="section-subtitle">ƒê·ªÉ l·∫°i t√™n v√† th√¥ng tin li√™n h·ªá, ch√∫ng t√¥i s·∫Ω g·ªçi l·∫°i t∆∞ v·∫•n v√† s·∫Øp x·∫øp l·ªãch h·∫πn cho b·∫°n ngay!</p>
                        <form id="quickBookingForm" class="form-spacing-large">
                             <div>
                                <label for="quickCustomerName" class="sr-only">T√™n c·ªßa b·∫°n</label>
                                <input type="text" id="quickCustomerName" placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n" required class="form-input form-input-large text-center">
                                <p id="quickCustomerNameError" class="form-error text-left hidden"></p>
                            </div>

                             <div>
                                <label class="form-label">Ch·ªçn ph∆∞∆°ng th·ª©c li√™n h·ªá</label>
                                <div id="contactMethodToggle" class="contact-method-group">
                                    <button type="button" data-method="phone" class="contact-method-btn active-method">SƒêT</button>
                                    <button type="button" data-method="facebook" class="contact-method-btn">Facebook</button>
                                    <button type="button" data-method="zalo" class="contact-method-btn">Zalo</button>
                                </div>
                                <input type="hidden" id="selectedContactMethod" value="phone">
                            </div>

                            <div class="contact-input-wrapper">
                                 <i id="contactIcon" data-feather="phone" class="contact-icon"></i>
                                 <input type="tel" id="quickContactInfo" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i" required class="form-input form-input-large text-center with-icon">
                                 <p id="quickContactInfoError" class="form-error text-left hidden"></p>
                            </div>

                            <div class="recaptcha-center">
                                <div class="g-recaptcha" data-sitekey="6LfBXYwrAAAAAKBB0r3aCkCTYkjt1AdTG8rws7Jw"></div>
                            </div>

                            <button type="submit" class="button button-primary button-full button-large">G·ª≠i Y√™u C·∫ßu</button>
                        </form>
                    </div>
                </div>
            </main>

            <footer class="main-footer">
                <p class="footer-text">
                    &copy; 2024 Salon T√≥c Chuy√™n Nghi·ªáp.
                    <a href="#" id="privacyPolicyLink" class="footer-link">Ch√≠nh s√°ch Quy·ªÅn ri√™ng t∆∞</a>.
                </p>
            </footer>

            <div id="adminAppointmentsSection" class="admin-appointments-section hidden">
                <h2 class="section-title">Danh S√°ch L·ªãch H·∫πn (Admin View)</h2>
                <div id="appointmentsList" class="admin-appointments-list"></div>
            </div>
        </div>
    </div>

    <div id="loginModal" class="modal hidden">
        <div class="modal-content">
            <h2 class="modal-title">ƒêƒÉng Nh·∫≠p Admin</h2>
            <form id="loginForm" class="form-spacing-large">
                <div>
                    <label for="email" class="form-label">Email</label>
                    <input type="email" id="email" required class="form-input">
                </div>
                <div>
                    <label for="password" class="form-label">M·∫≠t kh·∫©u</label>
                    <input type="password" id="password" required class="form-input">
                </div>
                <p id="loginError" class="form-error hidden"></p>
                <div class="modal-actions">
                    <button type="button" id="closeLoginModalButton" class="button-link">H·ªßy</button>
                    <button type="submit" class="button button-primary">ƒêƒÉng Nh·∫≠p</button>
                </div>
            </form>
        </div>
    </div>
    
    <div id="privacyPolicyModal" class="modal hidden">
        <div class="modal-content modal-large">
            <div class="modal-body">
                <div class="modal-header">
                    <h2 class="modal-title no-margin">Ch√≠nh s√°ch Quy·ªÅn ri√™ng t∆∞</h2>
                    <button id="closePrivacyModalButton" class="button-icon">
                        <i data-feather="x" class="icon-close"></i>
                    </button>
                </div>
                <div class="privacy-content">
                    <p>C·∫≠p nh·∫≠t l·∫ßn cu·ªëi: 24/07/2024</p>
                    <p>C·∫£m ∆°n b·∫°n ƒë√£ s·ª≠ d·ª•ng h·ªá th·ªëng ƒë·∫∑t l·ªãch c·ªßa Salon T√≥c Chuy√™n Nghi·ªáp ("ch√∫ng t√¥i"). Ch√∫ng t√¥i cam k·∫øt b·∫£o v·ªá th√¥ng tin c√° nh√¢n c·ªßa b·∫°n. Ch√≠nh s√°ch n√†y gi·∫£i th√≠ch c√°ch ch√∫ng t√¥i thu th·∫≠p, s·ª≠ d·ª•ng v√† b·∫£o v·ªá d·ªØ li·ªáu c·ªßa b·∫°n.</p>

                    <h3 class="privacy-subtitle">1. Th√¥ng tin ch√∫ng t√¥i thu th·∫≠p</h3>
                    <p>Ch√∫ng t√¥i thu th·∫≠p c√°c lo·∫°i th√¥ng tin sau khi b·∫°n s·ª≠ d·ª•ng d·ªãch v·ª• c·ªßa ch√∫ng t√¥i:</p>
                    <ul class="privacy-list">
                        <li><strong>Th√¥ng tin c√° nh√¢n b·∫°n cung c·∫•p:</strong> T√™n, s·ªë ƒëi·ªán tho·∫°i, v√†/ho·∫∑c th√¥ng tin li√™n h·ªá qua m·∫°ng x√£ h·ªôi (Facebook, Zalo) m√† b·∫°n nh·∫≠p v√†o c√°c bi·ªÉu m·∫´u ƒë·∫∑t l·ªãch.</li>
                        <li><strong>Th√¥ng tin d·ªãch v·ª•:</strong> D·ªãch v·ª• b·∫°n ch·ªçn, ng√†y v√† gi·ªù h·∫πn.</li>
                        <li><strong>Th√¥ng tin k·ªπ thu·∫≠t t·ª± ƒë·ªông:</strong> ƒê·ªÉ ƒë·∫£m b·∫£o an ninh v√† ch·ªëng spam, ch√∫ng t√¥i t·ª± ƒë·ªông thu th·∫≠p th√¥ng tin v·ªÅ thi·∫øt b·ªã c·ªßa b·∫°n, bao g·ªìm ƒë·ªãa ch·ªâ IP, lo·∫°i tr√¨nh duy·ªát (v√≠ d·ª•: Chrome, Firefox), v√† lo·∫°i thi·∫øt b·ªã (v√≠ d·ª•: Di ƒë·ªông, M√°y t√≠nh ƒë·ªÉ b√†n).</li>
                    </ul>

                    <h3 class="privacy-subtitle">2. M·ª•c ƒë√≠ch s·ª≠ d·ª•ng th√¥ng tin</h3>
                    <p>Ch√∫ng t√¥i s·ª≠ d·ª•ng th√¥ng tin thu th·∫≠p ƒë∆∞·ª£c cho c√°c m·ª•c ƒë√≠ch sau:</p>
                     <ul class="privacy-list">
                        <li><strong>Qu·∫£n l√Ω l·ªãch h·∫πn:</strong> ƒê·ªÉ x√°c nh·∫≠n, nh·∫Øc nh·ªü, v√† qu·∫£n l√Ω l·ªãch h·∫πn c·ªßa b·∫°n t·∫°i salon.</li>
                        <li><strong>Li√™n h·ªá v·ªõi b·∫°n:</strong> ƒê·ªÉ g·ª≠i th√¥ng b√°o x√°c nh·∫≠n, ho·∫∑c li√™n h·ªá khi c√≥ thay ƒë·ªïi v·ªÅ l·ªãch h·∫πn.</li>
                        <li><strong>C·∫£i thi·ªán d·ªãch v·ª•:</strong> ƒê·ªÉ ph√¢n t√≠ch v√† c·∫£i thi·ªán tr·∫£i nghi·ªám ng∆∞·ªùi d√πng tr√™n trang web ƒë·∫∑t l·ªãch.</li>
                        <li><strong>An ninh v√† ch·ªëng Spam:</strong> ƒê·ªÉ x√°c ƒë·ªãnh v√† ngƒÉn ch·∫∑n c√°c h√†nh vi ƒë·∫∑t l·ªãch gi·∫£ m·∫°o ho·∫∑c spam, b·∫£o v·ªá h·ªá th·ªëng c·ªßa ch√∫ng t√¥i.</li>
                    </ul>

                    <h3 class="privacy-subtitle">3. Chia s·∫ª th√¥ng tin</h3>
                    <p>Ch√∫ng t√¥i cam k·∫øt kh√¥ng b√°n, trao ƒë·ªïi, ho·∫∑c chuy·ªÉn giao th√¥ng tin c√° nh√¢n c·ªßa b·∫°n cho b·∫•t k·ª≥ b√™n th·ª© ba n√†o, tr·ª´ c√°c tr∆∞·ªùng h·ª£p ƒë∆∞·ª£c y√™u c·∫ßu b·ªüi ph√°p lu·∫≠t.</p>
                    
                    <h3 class="privacy-subtitle">4. B·∫£o m·∫≠t th√¥ng tin</h3>
                    <p>Th√¥ng tin c·ªßa b·∫°n ƒë∆∞·ª£c l∆∞u tr·ªØ tr√™n n·ªÅn t·∫£ng c∆° s·ªü d·ªØ li·ªáu an to√†n (Firebase) v√† ch√∫ng t√¥i √°p d·ª•ng c√°c bi·ªán ph√°p k·ªπ thu·∫≠t c·∫ßn thi·∫øt ƒë·ªÉ b·∫£o v·ªá d·ªØ li·ªáu c·ªßa b·∫°n kh·ªèi truy c·∫≠p tr√°i ph√©p.</p>

                    <h3 class="privacy-subtitle">5. Thay ƒë·ªïi ch√≠nh s√°ch</h3>
                    <p>Ch√∫ng t√¥i c√≥ th·ªÉ c·∫≠p nh·∫≠t ch√≠nh s√°ch n√†y theo th·ªùi gian. M·ªçi thay ƒë·ªïi s·∫Ω ƒë∆∞·ª£c ƒëƒÉng tr√™n trang n√†y. Ch√∫ng t√¥i khuy·∫øn kh√≠ch b·∫°n th∆∞·ªùng xuy√™n xem l·∫°i Ch√≠nh s√°ch Quy·ªÅn ri√™ng t∆∞ ƒë·ªÉ c·∫≠p nh·∫≠t th√¥ng tin.</p>

                    <h3 class="privacy-subtitle">6. Li√™n h·ªá</h3>
                    <p>N·∫øu b·∫°n c√≥ b·∫•t k·ª≥ c√¢u h·ªèi n√†o v·ªÅ ch√≠nh s√°ch n√†y, vui l√≤ng li√™n h·ªá v·ªõi ch√∫ng t√¥i.</p>
                </div>
                <div class="modal-footer">
                     <button id="acceptPrivacyButton" class="button button-primary">T√¥i ƒë√£ hi·ªÉu</button>
                </div>
            </div>
        </div>
    </div>
    
    
</body>
<script type="module" src="./main.js"></script>
</html>
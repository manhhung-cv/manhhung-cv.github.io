<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nu√¥i H√πng</title>

    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" href="/Asset/logo/logo.png" />
    <link rel="apple-touch-icon" href="/Asset/logo/logo.png" sizes="150x150" />

    <meta property="og:image" content="/Asset/Banner/Banner.png" />
    <meta property="og:title" content="Nu√¥i H√πng" />
    <meta property="og:description" content="Thi·∫øt k·∫ø v√† l·∫≠p tr√¨nh ƒêinh M·∫°nh H√πng" />
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;600;700;900&display=swap"
        rel="stylesheet">
    <!-- Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <!-- HTML2Canvas (ƒê·ªÉ t·∫£i ·∫£nh gi·∫•y ch·ª©ng nh·∫≠n) -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Be Vietnam Pro"', 'sans-serif'],
                        serif: ['Georgia', 'serif'], // Added serif for certificate
                    },
                    colors: {
                        primary: '#FF6B6B',
                        secondary: '#4ECDC4',
                        dark: '#292F36',
                        light: '#F7FFF7',
                        gold: '#FFD700', // Gold for certificate
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'wiggle': 'wiggle 1s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        wiggle: {
                            '0%, 100%': { transform: 'rotate(-3deg)' },
                            '50%': { transform: 'rotate(3deg)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Styles for Parallax and Specific UI tweaks */
        body {
            overflow-x: hidden;
        }

        .parallax-bg {
            background-image: url('./bg.jpg');
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }

        .parallax-donate {
            background-image: url('https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }

        /* Hide scrollbar for clean look */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #FF6B6B;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #ee5253;
        }

        /* Utility to hide scrollbar in specific elements but keep functionality */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            /* IE and Edge */
            scrollbar-width: none;
            /* Firefox */
        }

        /* Glassmorphism utility */
        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        /* Certificate Pattern Background */
        .certificate-bg {
            background-color: #fff;
            background-image: radial-gradient(#f3e5ab 20%, transparent 20%),
                radial-gradient(#f3e5ab 20%, transparent 20%);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
        }
    </style>
</head>

<body class="text-dark bg-gray-50 font-sans antialiased">

    <!-- Disclaimer Modal (On Load) -->
    <div id="disclaimer-modal"
        class="fixed inset-0 z-[60] flex items-center justify-center bg-black bg-opacity-80 p-4 transition-opacity duration-300">
        <div
            class="bg-white rounded-2xl max-w-lg w-full p-8 shadow-2xl transform scale-100 transition-transform duration-300">
            <div class="text-center">
                <div
                    class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4 text-yellow-600 text-3xl">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <h2 class="text-2xl font-black text-dark mb-2">C·∫¢NH B√ÅO "TR√í ƒê√ôA"</h2>
                <p class="text-gray-600 mb-6 text-sm leading-relaxed">
                    Trang web n√†y ƒë∆∞·ª£c t·∫°o ra ho√†n to√†n v·ªõi m·ª•c ƒë√≠ch <strong>gi·∫£i tr√≠ v√† h√†i h∆∞·ªõc (Just for
                        fun)</strong>.
                    <br><br>
                    N·ªôi dung kh√¥ng c√≥ √Ω ƒë·ªãnh x√∫c ph·∫°m, c√¥ng k√≠ch, ƒë·∫£ k√≠ch hay l·ª´a ƒë·∫£o b·∫•t k·ª≥ c√° nh√¢n, t·ªï ch·ª©c n√†o.
                    M·ªçi s·ª± tr√πng h·ª£p v·ªÅ t√™n g·ªçi hay ho√†n c·∫£nh (n·∫øu c√≥) ch·ªâ l√† ng·∫´u nhi√™n.
                    <br><br>
                    Nghi√™m t√∫c th√¨ m·ªùi ra ngo√†i. Xin c·∫£m ∆°n!
                </p>
                <button onclick="closeModal()"
                    class="w-full py-3 bg-primary hover:bg-red-500 text-white font-bold rounded-xl transition shadow-lg transform active:scale-95">
                    Toi dong tinh
                </button>
                <br>
                <br>
                <button onclick="history.back()"
                    class="w-full py-3 bg-primary hover:bg-red-500 text-white font-bold rounded-xl transition shadow-lg transform active:scale-95">
                    Toi khong dong tinh
                </button>
            </div>
        </div>
    </div>

    <!-- Payment Modal (Hidden by default) -->
    <div id="payment-modal"
        class="fixed inset-0 z-[70] flex items-center justify-center bg-black bg-opacity-90 p-4 transition-opacity duration-300 hidden opacity-0">
        <div class="bg-white rounded-3xl max-w-4xl w-full shadow-2xl overflow-hidden flex flex-col md:flex-row transform scale-95 transition-transform duration-300 relative min-h-[500px]"
            id="payment-modal-content">

            <!-- Close Button -->
            <button onclick="closePaymentModal()"
                class="absolute top-4 right-4 text-gray-400 hover:text-red-500 transition z-50 bg-white rounded-full p-1">
                <i class="fas fa-times text-2xl"></i>
            </button>

            <!-- VIEW 1: PAYMENT INFO (Default) -->
            <div id="payment-view" class="w-full flex flex-col md:flex-row h-full transition-opacity duration-500">
                <!-- Left: QR Code -->
                <div class="md:w-1/2 bg-gray-100 p-8 flex flex-col items-center justify-center text-center relative">
                    <button onclick="closePaymentModal()"
                        class="absolute top-4 left-4 md:hidden text-gray-500 hover:text-dark">
                        <i class="fas fa-arrow-left text-xl"></i>
                    </button>
                    <h3 class="text-xl font-bold mb-4 text-dark" id="modal-item-name">G√≥i M√¨ T√¥m</h3>
                    <div class="bg-white p-3 rounded-xl shadow-lg">
                        <img id="modal-qr-image" src="" alt="QR Code" class="w-48 h-48 md:w-64 md:h-64 object-cover">
                    </div>
                    <p class="mt-4 text-sm text-gray-500 italic" id="modal-note">*Qu√©t m√£ ƒë·ªÉ m·ªùi H√πng*</p>
                </div>

                <!-- Right: Info -->
                <div class="md:w-1/2 p-8 flex flex-col justify-center bg-white">
                    <div class="mb-6 text-center md:text-left">
                        <span class="text-sm font-bold text-gray-400 uppercase tracking-wider">Th√¥ng tin thanh
                            to√°n</span>
                        <h2 class="text-3xl font-black text-primary mt-1" id="modal-price">10,000ƒë</h2>
                    </div>

                    <div class="space-y-4">
                        <!-- Name Input (NEW) -->
                        <div class="mb-2">
                            <label class="block text-xs font-bold text-gray-500 uppercase mb-1">T√™n c·ªßa b·∫°n (ƒê·ªÉ in l√™n
                                gi·∫•y ch·ª©ng nh·∫≠n)</label>
                            <input type="text" id="donor-name-input" placeholder="VD: ƒê·∫°i gia gi·∫•u t√™n..."
                                class="w-full px-4 py-2 rounded-xl border-2 border-gray-200 focus:outline-none focus:border-primary focus:ring-0 transition text-gray-800 font-bold bg-gray-50">
                        </div>

                        <!-- Bank Info -->
                        <div class="p-3 bg-gray-50 rounded-xl border border-gray-100 cursor-pointer hover:border-blue-300 transition group"
                            onclick="copyToClipboard('123456789999', 'ƒê√£ copy s·ªë t√†i kho·∫£n!')">
                            <p class="text-xs text-gray-500 font-bold uppercase">S·ªë T√†i Kho·∫£n (MB Bank)</p>
                            <div class="flex justify-between items-center">
                                <span
                                    class="text-base md:text-lg font-mono font-bold text-gray-800">1234.5678.9999</span>
                                <i class="far fa-copy text-gray-400 group-hover:text-blue-500"></i>
                            </div>
                        </div>

                        <!-- Content Info -->
                        <div class="p-3 bg-yellow-50 rounded-xl border border-yellow-100 cursor-pointer hover:border-yellow-300 transition group"
                            onclick="copyContent()">
                            <p class="text-xs text-yellow-600 font-bold uppercase">N·ªôi dung chuy·ªÉn kho·∫£n</p>
                            <div class="flex justify-between items-center">
                                <span class="text-sm md:text-base font-medium text-gray-800 break-words"
                                    id="modal-content">Moi Hung Goi Mi Tom</span>
                                <i class="far fa-copy text-gray-400 group-hover:text-yellow-500"></i>
                            </div>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="confirmPayment()"
                            class="w-full py-3 bg-gray-800 hover:bg-black text-white rounded-xl font-bold transition shadow-lg hover:shadow-xl transform hover:-translate-y-1">
                            <i class="fas fa-check-circle mr-2"></i> Xong, ƒë√£ b∆°m m√°u!
                        </button>
                        <p class="mt-2 text-center text-xs text-gray-400">
                            N·∫øu th·∫•y QR kh√¥ng hi·ªán, vui l√≤ng nh·∫≠p tay. Xin c·∫£m ∆°n!
                        </p>
                    </div>
                </div>
            </div>

            <!-- VIEW 2: CERTIFICATE (Hidden initially) -->
            <div id="certificate-view"
                class="hidden absolute inset-0 w-full h-full bg-white flex items-center justify-center p-4 transition-all duration-500 opacity-0 transform scale-95">
                <!-- Wrapper for capture -->
                <div id="certificate-capture"
                    class="certificate-bg w-full h-full border-8 border-double border-yellow-600 p-6 flex flex-col items-center justify-center text-center relative overflow-hidden shadow-inner max-w-xl mx-auto">
                    <!-- Corner decorations -->
                    <div class="absolute top-0 left-0 w-16 h-16 border-t-4 border-l-4 border-yellow-600"></div>
                    <div class="absolute top-0 right-0 w-16 h-16 border-t-4 border-r-4 border-yellow-600"></div>
                    <div class="absolute bottom-0 left-0 w-16 h-16 border-b-4 border-l-4 border-yellow-600"></div>
                    <div class="absolute bottom-0 right-0 w-16 h-16 border-b-4 border-r-4 border-yellow-600"></div>

                    <!-- Watermark -->
                    <div
                        class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-gray-200 text-6xl font-black uppercase rotate-[-30deg] pointer-events-none select-none opacity-30 z-0 whitespace-nowrap">
                        TR√í ƒê√ôA (JUST FOR FUN)
                    </div>

                    <div
                        class="w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center text-white text-3xl mb-4 shadow-lg animate-pulse-slow relative z-10">
                        <i class="fas fa-award"></i>
                    </div>

                    <h2 class="text-3xl md:text-5xl font-serif font-bold text-dark mb-2 uppercase tracking-wide relative z-10"
                        style="text-shadow: 1px 1px 0 #ccc;">Ch·ª©ng Nh·∫≠n</h2>
                    <p class="text-primary font-serif italic text-lg mb-6 relative z-10">"Nh√† T√†i Tr·ª£ V√†ng Trong L√†ng
                        C·ª©u ƒê√≥i"</p>

                    <div class="text-lg md:text-xl text-gray-700 font-serif leading-relaxed max-w-lg relative z-10">
                        X√°c nh·∫≠n r·∫±ng:
                        <br>
                        <b class="text-2xl md:text-3xl text-dark" id="cert-donor-name">Nguy·ªÖn VƒÉn A</b>
                        <br>
                        ƒë√£ t√†i tr·ª£ th√†nh c√¥ng g√≥i:
                        <br>
                        <span class="text-2xl md:text-3xl font-bold text-red-600 block my-2" id="cert-item-name">G√≥i M√¨
                            T√¥m</span>
                        cho H√πng ƒë·ªÉ sinh t·ªìn.
                    </div>

                    <div class="mt-8 flex items-center justify-center gap-8 w-full relative z-10">
                        <div class="text-center">
                            <p class="text-xs text-gray-500 uppercase font-bold">Ng√†y ch·ª©ng nh·∫≠n</p>
                            <p class="font-serif italic" id="cert-date">12/12/2023</p>
                        </div>
                        <div class="text-center">
                            <p class="text-xs text-gray-500 uppercase font-bold mt-1">Ch·ªØ k√Ω ng∆∞·ªùi th·ª• h∆∞·ªüng</p>

                            <div class="font-dancing text-xl md:text-2xl text-blue-800 font-bold rotate-[-10deg] mb-1">
                                H√πng ƒê·∫πp Trai</div>
                            <div class="h-px w-24 bg-gray-400 mx-auto"></div>
                        </div>
                    </div>

                    <!-- Seal -->
                    <div class="absolute bottom-6 right-6 opacity-80 rotate-[-15deg] z-10">
                        <div class="w-24 h-24 border-4 border-red-700 rounded-full flex items-center justify-center text-red-700 font-bold text-center text-xs p-2 uppercase tracking-widest bg-white bg-opacity-50"
                            style="box-shadow: 0 0 0 2px white, 0 0 0 4px #b91c1c;">
                            Approved <br> by Hung
                        </div>
                    </div>

                    <!-- Joke Disclaimer Text for Download -->
                    <div
                        class="absolute bottom-2 left-0 w-full text-center text-[10px] text-gray-400 uppercase tracking-widest opacity-60">
                        Ch·ª©ng nh·∫≠n n√†y ch·ªâ l√† tr√≤ ƒë√πa (Just For Fun)
                    </div>
                </div>

                <!-- Actions outside capture area -->
                <div class="absolute bottom-0 left-0 w-full flex justify-center gap-2 z-50">
                    <button onclick="downloadCertificate()"
                        class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full transition text-sm shadow-lg flex items-center gap-2">
                        <i class="fas fa-download"></i> T·∫£i V·ªÅ
                    </button>
                    <button onclick="closePaymentModal()"
                        class="px-6 py-2 bg-gray-800 hover:bg-black text-white rounded-full transition text-sm shadow-lg">
                        ƒê√≥ng
                    </button>
                </div>
            </div>

        </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast"
        class="fixed top-24 right-5 z-[80] transform translate-x-[150%] transition-transform duration-300 bg-green-500 text-white px-6 py-3 rounded-lg shadow-xl flex items-center gap-2">
        <i class="fas fa-check-circle"></i>
        <span id="toast-message">ƒê√£ sao ch√©p s·ªë t√†i kho·∫£n!</span>
    </div>

    <!-- Navigation -->
    <nav class="fixed w-full z-40 transition-all duration-300 glass" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex-shrink-0 flex items-center gap-2 cursor-pointer" onclick="window.scrollTo(0,0)">
                    <i class="fas fa-utensils text-primary text-2xl animate-wiggle"></i>
                    <span class="font-bold text-xl tracking-wider text-primary">NU√îI H√ôNG</span>
                </div>

                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-8">
                    <a href="#why" class="text-gray-700 hover:text-primary font-medium transition">L√Ω do nu√¥i</a>
                    <a href="#donate" class="text-gray-700 hover:text-primary font-medium transition">Th·ª±c ƒë∆°n</a>
                    <a href="#leaderboard" class="text-gray-700 hover:text-primary font-medium transition">B·∫£ng v√†ng</a>
                    <a href="#statement" class="text-gray-700 hover:text-primary font-medium transition">Sao k√™</a>
                </div>

                <!-- Mobile Menu Button -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-gray-700 hover:text-primary focus:outline-none">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Panel -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#why"
                    class="mobile-link block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50">L√Ω
                    do nu√¥i</a>
                <a href="#donate"
                    class="mobile-link block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50">Th·ª±c
                    ƒë∆°n</a>
                <a href="#leaderboard"
                    class="mobile-link block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50">B·∫£ng
                    v√†ng</a>
                <a href="#statement"
                    class="mobile-link block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50">Sao
                    k√™</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="relative h-screen flex items-center justify-center parallax-bg text-white">
        <div class="absolute inset-0 bg-black bg-opacity-40"></div>
        <div class="relative z-10 text-center px-4 max-w-4xl mx-auto">
            <div
                class="inline-block mb-4 px-4 py-1 rounded-full bg-primary bg-opacity-80 backdrop-blur-sm text-sm font-bold uppercase tracking-widest animate-pulse">
                C·∫£nh b√°o: Web n√†y ch·ªâ ƒë·ªÉ xin ti·ªÅn
            </div>
            <h1 class="text-5xl md:text-7xl font-black mb-6 leading-tight drop-shadow-lg">
                D·ª∞ √ÅN ·ª¶NG H·ªò <br>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary to-yellow-400">"NU√îI H√ôNG"</span>
            </h1>
            <p class="text-xl md:text-2xl mb-10 font-light text-gray-100 max-w-2xl mx-auto drop-shadow-md">
                M·ªôt d·ª± √°n phi l·ª£i nhu·∫≠n, phi v·∫≠t ch·∫•t, nh∆∞ng ƒë·∫≠m ch·∫•t t√¨nh th∆∞∆°ng. H√πng b√©o l√™n.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="#donate"
                    class="px-8 py-4 bg-primary hover:bg-red-500 text-white rounded-full font-bold text-lg shadow-lg transform hover:scale-105 transition duration-300 flex items-center justify-center gap-2">
                    <i class="fas fa-hand-holding-dollar"></i> Nu√¥i H√πng ngay
                </a>
                <a href="#why"
                    class="px-8 py-4 bg-white hover:bg-gray-100 text-dark rounded-full font-bold text-lg shadow-lg transform hover:scale-105 transition duration-300 flex items-center justify-center gap-2">
                    <i class="fas fa-question-circle"></i> T·∫°i sao?
                </a>
            </div>
            <p class="mt-8 text-xs text-gray-300 opacity-80 max-w-lg mx-auto italic">
                *Tuy√™n b·ªë mi·ªÖn tr·ª´ tr√°ch nhi·ªám: M·ªçi kho·∫£n donate ƒë·ªÅu d·ª±a tr√™n s·ª± t·ª± nguy·ªán v√† l√≤ng h·∫£o t√¢m c·ªßa qu√Ω v·ªã.
                Ch·ªß web kh√¥ng ch·ªãu tr√°ch nhi·ªám n·∫øu b·∫°n ƒë√≤i l·∫°i ti·ªÅn.*
            </p>
        </div>

        <!-- Floating Elements -->
        <div class="absolute bottom-10 left-10 text-4xl animate-float opacity-70">üçï</div>
        <div class="absolute top-32 right-20 text-4xl animate-float opacity-70" style="animation-delay: 1s;">üßã</div>
        <div class="absolute bottom-32 right-10 text-4xl animate-float opacity-70" style="animation-delay: 2s;">üí∏</div>
    </section>

    <!-- Why Section -->
    <section id="why" class="py-20 bg-gray-50 overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-10 md:mb-16">
                <h2 class="text-3xl md:text-4xl font-black text-dark mb-4">T·∫°i Sao B·∫°n N√™n "Nu√¥i" H√πng?</h2>
                <div class="w-24 h-1 bg-primary mx-auto rounded-full"></div>
                <p class="mt-4 text-gray-600 max-w-2xl mx-auto italic">
                    "ƒê·ª´ng h·ªèi H√πng ƒë√£ l√†m g√¨ cho ta, m√† h√£y h·ªèi h√¥m nay b·∫°n ƒë√£ ·ªßng h·ªô H√πng ch∆∞a?"
                </p>
            </div>

            <div id="reasons-grid"
                class="flex md:grid md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8 overflow-x-auto md:overflow-visible pb-6 md:pb-0 snap-x snap-mandatory no-scrollbar">
                <!-- Content will be injected via JS -->
            </div>

            <div class="md:hidden text-center text-gray-400 text-sm mt-2 animate-pulse">
                <i class="fas fa-arrow-left"></i> Vu·ªët sang ƒë·ªÉ xem th√™m <i class="fas fa-arrow-right"></i>
            </div>
        </div>
    </section>

    <!-- Donate Section (UPDATED) -->
    <section id="donate" class="py-20 parallax-donate relative">
        <div class="absolute inset-0 bg-primary bg-opacity-95"></div>
        <!-- Decorations -->
        <div class="absolute top-0 left-0 w-full h-full overflow-hidden opacity-10 pointer-events-none">
            <i class="fas fa-utensils absolute top-10 left-10 text-9xl text-white"></i>
            <i class="fas fa-pizza-slice absolute bottom-20 right-20 text-9xl text-white"></i>
        </div>

        <div class="relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-10 text-white">
                <span
                    class="inline-block py-1 px-3 rounded-full bg-white bg-opacity-20 text-xs font-bold uppercase tracking-wider mb-2">Donate
                    Menu</span>
                <h2 class="text-4xl md:text-5xl font-black mb-4">Menu "Nu√¥i" H√πng</h2>
                <p class="text-xl opacity-90 max-w-2xl mx-auto">Ch·ªçn "giai c·∫•p" t√†i ch√≠nh c·ªßa b·∫°n ƒë·ªÉ xem menu ph√π h·ª£p.
                </p>
            </div>

            <!-- Filters -->
            <div class="flex flex-wrap justify-center gap-2 mb-8" id="menu-filters">
                <button onclick="filterPackages('all')"
                    class="filter-btn active px-4 py-2 rounded-full text-sm font-bold bg-white text-primary hover:bg-gray-100 transition shadow-md"
                    data-filter="all">T·∫•t C·∫£</button>
                <button onclick="filterPackages('poor')"
                    class="filter-btn px-4 py-2 rounded-full text-sm font-bold bg-white bg-opacity-20 text-white hover:bg-white hover:text-primary transition"
                    data-filter="poor">H·ªô Ngh√®o</button>
                <button onclick="filterPackages('near_poor')"
                    class="filter-btn px-4 py-2 rounded-full text-sm font-bold bg-white bg-opacity-20 text-white hover:bg-white hover:text-primary transition"
                    data-filter="near_poor">H·ªô C·∫≠n Ngh√®o</button>
                <button onclick="filterPackages('near_rich')"
                    class="filter-btn px-4 py-2 rounded-full text-sm font-bold bg-white bg-opacity-20 text-white hover:bg-white hover:text-primary transition"
                    data-filter="near_rich">H·ªô C·∫≠n Gi√†u</button>
                <button onclick="filterPackages('rich')"
                    class="filter-btn px-4 py-2 rounded-full text-sm font-bold bg-white bg-opacity-20 text-white hover:bg-white hover:text-primary transition"
                    data-filter="rich">H·ªô Gi√†u</button>
                <button onclick="filterPackages('luxury')"
                    class="filter-btn px-4 py-2 rounded-full text-sm font-bold bg-gradient-to-r from-yellow-400 to-yellow-600 text-white hover:scale-105 transition shadow-lg border border-yellow-300"
                    data-filter="luxury"><i class="fas fa-crown"></i> Luxury Plus Pro Max Ultra ++</button>
            </div>

            <!-- Packages Grid -->
            <div id="packages-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6 min-h-[300px]">
                <!-- Content injected via JS -->
            </div>

            <!-- Custom Donate Button -->
            <div class="mt-12 text-center">
                <p class="text-white text-sm mb-4 opacity-80">Ho·∫∑c n·∫øu b·∫°n mu·ªën donate m·ªôt con s·ªë b√≠ ·∫©n?</p>
                <button
                    onclick="openPaymentModal({name: 'Donate T√πy T√¢m', price: 'V√¥ C·ª±c', amount: 0, icon: 'üíñ', code: 'TuyTam'})"
                    class="inline-flex items-center gap-2 px-8 py-4 bg-white text-primary rounded-full font-bold text-lg shadow-lg hover:bg-gray-100 transform hover:scale-105 transition">
                    <i class="fas fa-hand-holding-heart"></i>
                    Donate T√πy T√¢m / QR M·∫∑c ƒë·ªãnh
                </button>
            </div>
        </div>
    </section>

    <!-- Leaderboard Section -->
    <section id="leaderboard" class="py-20 bg-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <span class="text-primary font-bold tracking-widest uppercase text-sm">Hall of Fame</span>
                <h2 class="text-3xl md:text-4xl font-black text-dark">B·∫£ng X·∫øp H·∫°ng Nh√† H·∫£o T√¢m</h2>
                <p class="mt-2 text-gray-500">Vinh danh nh·ªØng ng∆∞·ªùi ƒë√£ gi√∫p H√πng s·ªëng s√≥t qua m√πa trƒÉng n√†y (S·∫Øp x·∫øp
                    theo ƒë·ªô gi√†u)</p>
            </div>

            <div class="bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden">
                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse">
                        <thead>
                            <tr class="bg-gray-800 text-white">
                                <th class="p-4 text-center w-20">#</th>
                                <th class="p-4">Nh√† T√†i Tr·ª£</th>
                                <th class="p-4">L·ªùi Nh·∫Øn</th>
                                <th class="p-4 text-right">S·ªë Ti·ªÅn (VND)</th>
                            </tr>
                        </thead>
                        <tbody id="leaderboard-body" class="divide-y divide-gray-100">
                            <!-- Content injected via JS -->
                        </tbody>
                    </table>
                </div>
                <div class="p-4 text-center bg-gray-50 border-t border-gray-100 text-sm text-gray-500">
                    *B·∫£ng x·∫øp h·∫°ng ho√†n to√†n h∆∞ c·∫•u nh·∫±m m·ª•c ƒë√≠ch gi·∫£i tr√≠.*
                </div>
            </div>
        </div>
    </section>

    <!-- Sao K√™ Section -->
    <section id="statement" class="py-20 bg-gray-900 text-white relative overflow-hidden">
        <!-- Decoration background -->
        <div class="absolute -top-24 -right-24 w-96 h-96 bg-primary rounded-full filter blur-3xl opacity-20"></div>
        <div class="absolute -bottom-24 -left-24 w-96 h-96 bg-secondary rounded-full filter blur-3xl opacity-20"></div>

        <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">

                <div>
                    <h2 class="text-3xl md:text-5xl font-black mb-6">Sao K√™ Minh B·∫°ch</h2>
                    <p class="text-gray-300 text-lg mb-6">
                        H√πng cam k·∫øt minh b·∫°ch m·ªçi kho·∫£n thu chi. Ti·ªÅn c·ªßa c√°c b·∫°n s·∫Ω ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë√∫ng m·ª•c ƒë√≠ch gi√∫p H√πng b√©o l√™n.
                    </p>

                    <!-- Statement List injected via JS -->
                    <ul id="statement-list" class="space-y-4">
                        <!-- Content will be injected here -->
                    </ul>
                </div>

                <!-- Fake Chart Visual -->
                <div class="flex justify-center">
                    <div class="relative w-64 h-64 md:w-80 md:h-80 rounded-full bg-gray-800 border-8 border-gray-700 flex items-center justify-center shadow-2xl animate-float"
                        style="animation-duration: 8s;">
                        <div class="absolute inset-0 rounded-full"
                            style="background: conic-gradient(#FF6B6B 0% 60%, #F6E05E 60% 85%, #4ECDC4 85% 95%, #A78BFA 95% 100%); opacity: 0.8;">
                        </div>
                        <div
                            class="absolute inset-4 bg-gray-900 rounded-full flex items-center justify-center flex-col text-center z-10">
                            <span class="text-4xl font-bold text-white">100%</span>
                            <span class="text-sm text-gray-400">Uy t√≠n</span>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark border-t border-gray-800 py-10">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <div class="flex justify-center space-x-6 mb-6">
                <a href="https://facebook.com/HunqD" class="text-gray-400 hover:text-white text-2xl"><i class="fab fa-facebook"></i></a>
                <!-- <a href="#" class="text-gray-400 hover:text-white text-2xl"><i class="fab fa-instagram"></i></a>
                <a href="#" class="text-gray-400 hover:text-white text-2xl"><i class="fab fa-tiktok"></i></a>
                <a href="#" class="text-gray-400 hover:text-white text-2xl"><i class="fab fa-github"></i></a> -->
            </div>
            <p class="text-gray-500">
                &copy; 2023 Nu√¥i H√πng. Made with <i class="fas fa-heart text-red-500 animate-pulse"></i> and üçú.
            </p>
            <p class="text-gray-600 text-xs mt-2">
                Trang web n√†y l√† m·ªôt tr√≤ ƒë√πa (Parody). M·ªçi n·ªôi dung ch·ªâ mang t√≠nh ch·∫•t gi·∫£i tr√≠.<br>
                Kh√¥ng c√≥ √Ω ƒë·ªãnh x√∫c ph·∫°m hay c√¥ng k√≠ch ai.
            </p>
        </div>
    </footer>

    <!-- JavaScript logic & DATA -->
    <script>
        // ==========================================
        // D·ªÆ LI·ªÜU ƒê·ªÇ CH·ªàNH S·ª¨A (EDIT DATA HERE)
        // ==========================================

        // 1. D·ªØ li·ªáu ph·∫ßn "T·∫°i sao n√™n nu√¥i"
        const reasonsData = [
            {
                icon: "fa-chart-line",
                colorClass: "text-primary",
                bgClass: "bg-red-100",
                borderColor: "border-primary",
                title: "ƒê·∫ßu T∆∞ R·ªßi Ro Cao",
                desc: "B·∫°n donate cho H√πng, ti·ªÅn s·∫Ω m·ªôt ƒëi kh√¥ng tr·ªü l·∫°i. Nh∆∞ng ƒë·ªïi l·∫°i b·∫°n nh·∫≠n ƒë∆∞·ª£c c·∫£m gi√°c c·ªßa m·ªôt 'Shark Tank' th·ª±c th·ª• khi ƒë·∫ßu t∆∞ v√†o start-up v√¥ v·ªçng."
            },
            {
                icon: "fa-paw",
                colorClass: "text-yellow-500",
                bgClass: "bg-yellow-100",
                borderColor: "border-yellow-400",
                title: "B·∫£o T·ªìn ƒê·ªông V·∫≠t",
                desc: "H√πng thu·ªôc lo√†i sinh v·∫≠t qu√Ω hi·∫øm: 'Ng∆∞·ªùi ngh√®o nh∆∞ng t√¢m h·ªìn ƒÉn u·ªëng phong ph√∫'. Vi·ªác b·∫°n donate g√≥p ph·∫ßn b·∫£o t·ªìn gi·ªëng lo√†i n√†y kh√¥ng b·ªã tuy·ªát ch·ªßng v√¨ ƒë√≥i."
            },
            {
                icon: "fa-dove",
                colorClass: "text-blue-500",
                bgClass: "bg-blue-100",
                borderColor: "border-blue-500",
                title: "T√≠ch ƒê·ª©c Online",
                desc: "M·ªói c·ªëc tr√† s·ªØa b·∫°n m·ªùi H√πng s·∫Ω ƒë∆∞·ª£c quy ƒë·ªïi th√†nh 100 ƒëi·ªÉm c√¥ng ƒë·ª©c. TƒÉng t·ªâ l·ªá may m·∫Øn khi gacha game, c·∫ßu m∆∞a ho·∫∑c mong crush rep tin nh·∫Øn."
            },
            {
                icon: "fa-flask",
                colorClass: "text-purple-500",
                bgClass: "bg-purple-100",
                borderColor: "border-purple-500",
                title: "Nghi√™n C·ª©u Khoa H·ªçc",
                desc: "T√¥i ƒëang th·ª±c hi·ªán th√≠ nghi·ªám: 'Con ng∆∞·ªùi c√≥ th·ªÉ s·ªëng s√≥t ch·ªâ b·∫±ng tr√† s·ªØa v√† ni·ªÅm tin hay kh√¥ng?'. H√£y t√†i tr·ª£ cho khoa h·ªçc!"
            },
            {
                icon: "fa-leaf",
                colorClass: "text-green-500",
                bgClass: "bg-green-100",
                borderColor: "border-green-500",
                title: "B·∫£o V·ªá M√¥i Tr∆∞·ªùng",
                desc: "T√¥i cam k·∫øt ƒÉn h·∫øt ƒë·ªì ƒÉn th·ª´a (n·∫øu ngon) ƒë·ªÉ gi·∫£m thi·ªÉu r√°c th·∫£i th·ª±c ph·∫©m ra m√¥i tr∆∞·ªùng. Nu√¥i t√¥i l√† c·ª©u Tr√°i ƒê·∫•t."
            },
            {
                icon: "fa-wallet",
                colorClass: "text-lime-500",
                bgClass: "bg-lime-100",
                borderColor: "border-lime-500",
                title: "Minh b·∫°ch 500%",
                desc: "ƒê·∫£m b·∫£o m·ªçi chi ti√™u s·∫Ω ƒë∆∞·ª£c c√¥ng khai realtime."
            }
        ];

        // 2. D·ªØ li·ªáu G√≥i Donate (Menu Nu√¥i H√πng) - C√ì PH√ÇN LO·∫†I
        // category: 'poor', 'near_poor', 'near_rich', 'rich', 'luxury'
        const packagesData = [
            { name: "H√≠t Kh√≠ Tr·ªùi", price: "0 VNƒê", amount: 0, icon: "üçÉ", color: "bg-gray-100 text-gray-600", code: "HitKhiTroi", category: "poor" },
            { name: "Tr√† ƒê√° V·ªâa H√®", price: "5,000", amount: 5000, icon: "ü•É", color: "bg-amber-100 text-amber-800", code: "TraDa", category: "poor" },
            { name: "G√≥i M√¨ T√¥m", price: "10,000", amount: 10000, icon: "üçú", color: "bg-orange-100 text-orange-600", code: "GoiMiTom", category: "poor" },
            { name: "B√°nh M√¨ K·∫πp", price: "20,000", amount: 20000, icon: "ü•™", color: "bg-yellow-100 text-yellow-600", code: "BanhMi", category: "near_poor" },
            { name: "Cafe S·ªØa ƒê√°", price: "30,000", amount: 30000, icon: "‚òï", color: "bg-amber-100 text-amber-800", code: "CafeSua", category: "near_poor" },
            { name: "Tr√† S·ªØa Full", price: "60,000", amount: 60000, icon: "üßã", color: "bg-pink-100 text-pink-600", code: "TraSuaFull", category: "near_rich" },
            { name: "X√≥a ·∫¢nh D√¨m", price: "50,000", amount: 50000, icon: "üì∏", color: "bg-blue-100 text-blue-600", code: "XoaAnhDim", category: "near_rich" },
            { name: "Th√πng H·∫£o H·∫£o", price: "120,000", amount: 120000, icon: "üì¶", color: "bg-red-50 text-red-500", code: "ThungHaoHao", category: "rich" },
            { name: "G√≥i C·ª©u ƒê√≥i", price: "200,000", amount: 200000, icon: "üÜò", color: "bg-red-100 text-red-600", code: "CuuDoi", category: "rich" },
            { name: "G√≥i T∆∞ V·∫•n T√¨nh C·∫£m", price: "500,000", amount: 500000, icon: "üíî", color: "bg-purple-100 text-purple-600", code: "TuVanTinhCam", category: "luxury" },
            { name: "G√≥i ƒê·∫°i Gia", price: "1,000,000", amount: 1000000, icon: "üíé", color: "bg-cyan-100 text-cyan-600", code: "DaiGia", category: "luxury" },
            { name: "Nu√¥i C·∫£ ƒê·ªùi", price: "1 T·ª∑", amount: 1000000000, icon: "üíç", color: "bg-rose-100 text-rose-600", code: "BaoNuoi", category: "luxury" },

        ];

        // 3. D·ªØ li·ªáu ph·∫ßn "B·∫£ng X·∫øp H·∫°ng" (C√≥ tr∆∞·ªùng realAmount ƒë·ªÉ s·∫Øp x·∫øp)
        let leaderboardData = [
            {
                name: "ƒê·∫°i Gia Gi·∫•u T√™n",
                tag: "ƒê·∫°i Gia",
                message: "Mua c√°i g√¨ ngon m√† ƒÉn em nh√©.",
                money: "500.000 ƒë",
                realAmount: 500000,
                color: "text-green-600",
                rankIcon: '<i class="fas fa-crown"></i>',
                rankClass: "text-yellow-500 text-2xl"
            },
            {
                name: "Babi Shark ƒêu ƒêu",
                tag: "",
                message: "Anh ƒë·∫ßu t∆∞ em g√≥i m√¨ H·∫£o H·∫£o.",
                money: "10.000 ƒë",
                realAmount: 10000,
                color: "text-green-600",
                rankIcon: "2",
                rankClass: "text-gray-400 text-xl"
            },
            {
                name: "M·∫π ·ªü qu√™",
                tag: "",
                message: "ƒê·ª´ng c√≥ nh·ªãn ƒë√≥i nha con.",
                money: "200.000 ƒë",
                realAmount: 200000,
                color: "text-green-600",
                rankIcon: "3",
                rankClass: "text-orange-400 text-xl"
            },
            {
                name: "Fan H√¢m M·ªô",
                tag: "M·ªõi",
                message: "Th√πng m√¨ c·ª©u ƒë√≥i.",
                money: "120.000 ƒë",
                realAmount: 120000,
                color: "text-green-600",
                rankIcon: "6",
                rankClass: "text-gray-400"
            }
        ];

        // 4. D·ªØ li·ªáu Sao K√™
        const statementData = [
            { label: "Tr√† s·ªØa & Full topping", percent: "60%", color: "bg-primary", width: "60%" },
            { label: "Mua M√¨ T√¥m H·∫£o H·∫£o", percent: "25%", color: "bg-yellow-400", width: "25%" },
            { label: "ƒê√≥ng ti·ªÅn m·∫°ng ƒë·ªÉ l√†m web", percent: "10%", color: "bg-purple-500", width: "10%" },
            { label: "Quy√™n g√≥p cho b·∫£n th√¢n", percent: "5%", color: "bg-secondary", width: "5%" }
        ];

        // ==========================================
        // LOGIC RENDER
        // ==========================================

        // Render Reasons
        const reasonsGrid = document.getElementById('reasons-grid');
        reasonsData.forEach(item => {
            const html = `
                <div class="bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition duration-300 transform hover:-translate-y-2 border-b-4 ${item.borderColor} min-w-[280px] snap-center">
                    <div class="w-16 h-16 ${item.bgClass} rounded-full flex items-center justify-center mb-6 mx-auto ${item.colorClass} text-3xl">
                        <i class="fas ${item.icon}"></i>
                    </div>
                    <h3 class="text-xl font-bold text-center mb-4">${item.title}</h3>
                    <p class="text-gray-600 text-center">${item.desc}</p>
                </div>
            `;
            reasonsGrid.innerHTML += html;
        });

        // Render Packages Initial
        renderPackages('all');

        // Render Leaderboard (Sorted)
        const leaderboardBody = document.getElementById('leaderboard-body');

        leaderboardData.sort((a, b) => b.realAmount - a.realAmount);

        leaderboardData.forEach((row, index) => {
            const rowClass = index === 0 ? 'bg-yellow-50 hover:bg-yellow-100' : 'hover:bg-gray-50';
            const tagHtml = row.tag ? `<span class="text-xs bg-yellow-200 text-yellow-800 px-2 py-0.5 rounded-full ml-2 hidden sm:inline-block">${row.tag}</span>` : '';

            let displayRankIcon = row.rankIcon;
            let displayRankClass = row.rankClass;

            if (index === 0) {
                displayRankIcon = '<i class="fas fa-crown"></i>';
                displayRankClass = "text-yellow-500 text-2xl";
            } else if (index === 1) {
                displayRankIcon = '2';
                displayRankClass = "text-gray-400 text-xl";
            } else if (index === 2) {
                displayRankIcon = '3';
                displayRankClass = "text-orange-400 text-xl";
            } else {
                displayRankIcon = index + 1;
                displayRankClass = "text-gray-400";
            }

            const html = `
                <tr class="${rowClass} transition">
                    <td class="p-3 md:p-4 text-center font-bold ${displayRankClass}">
                        ${displayRankIcon}
                    </td>
                    <td class="p-3 md:p-4 font-semibold text-gray-800 text-sm md:text-base">
                        ${row.name} ${tagHtml}
                    </td>
                    <td class="p-3 md:p-4 text-gray-600 italic text-sm md:text-base">"${row.message}"</td>
                    <td class="p-3 md:p-4 text-right font-bold ${row.color} text-sm md:text-base whitespace-nowrap">${row.money}</td>
                </tr>
            `;
            leaderboardBody.innerHTML += html;
        });

        // Render Statement List
        const statementList = document.getElementById('statement-list');
        statementData.forEach(item => {
            const html = `
                <li class="w-full">
                    <div class="flex items-center gap-3 mb-1">
                        <div class="w-2 h-2 rounded-full ${item.color}"></div>
                        <span class="flex-1 text-sm md:text-base">${item.label}</span>
                        <span class="font-bold ${item.color.replace('bg-', 'text-')}">${item.percent}</span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-2">
                        <div class="${item.color} h-2 rounded-full" style="width: ${item.width}"></div>
                    </div>
                </li>
            `;
            statementList.innerHTML += html;
        });


        // ==========================================
        // LOGIC CH·ª®C NƒÇNG
        // ==========================================

        // NEW: Filter Logic
        function renderPackages(category) {
            const packagesGrid = document.getElementById('packages-grid');
            packagesGrid.innerHTML = ''; // Clear existing

            const filteredData = category === 'all'
                ? packagesData
                : packagesData.filter(item => item.category === category);

            // Add simple fade animation
            packagesGrid.classList.remove('opacity-100');
            packagesGrid.classList.add('opacity-0');

            setTimeout(() => {
                filteredData.forEach(pkg => {
                    const pkgString = JSON.stringify(pkg).replace(/"/g, "&quot;");
                    const html = `
                        <div class="bg-white rounded-2xl p-4 md:p-6 shadow-md hover:shadow-2xl hover:scale-105 transition duration-300 cursor-pointer flex flex-col items-center group relative overflow-hidden"
                            onclick="openPaymentModal(${pkgString})">
                            <div class="absolute top-0 left-0 w-full h-1 ${pkg.color.split(' ')[0]}"></div>
                            <div class="w-16 h-16 rounded-full ${pkg.color} flex items-center justify-center text-3xl mb-4 shadow-sm group-hover:rotate-12 transition">
                                ${pkg.icon}
                            </div>
                            <h4 class="font-bold text-gray-800 text-center mb-1 group-hover:text-primary transition">${pkg.name}</h4>
                            <p class="text-primary font-black text-lg">${pkg.price}</p>
                            <div class="mt-4 px-4 py-1 rounded-full bg-gray-100 text-xs text-gray-500 group-hover:bg-primary group-hover:text-white transition">
                                M·ªùi ngay
                            </div>
                        </div>
                    `;
                    packagesGrid.innerHTML += html;
                });
                packagesGrid.classList.remove('opacity-0');
                packagesGrid.classList.add('opacity-100');
            }, 200);
        }

        function filterPackages(category) {
            // Update UI buttons
            const buttons = document.querySelectorAll('.filter-btn');
            buttons.forEach(btn => {
                if (btn.dataset.filter === category) {
                    btn.classList.add('bg-primary', 'text-white', 'shadow-md');
                    btn.classList.remove('bg-white', 'text-primary', 'bg-opacity-20');
                    if (category !== 'all' && category !== 'luxury') {
                        btn.classList.remove('bg-opacity-20');
                        btn.classList.add('bg-white');
                        btn.classList.replace('text-white', 'text-primary'); // Inverse for active
                        // Correcting style logic for clearer active state
                        btn.style.backgroundColor = '#FF6B6B'; // Primary
                        btn.style.color = '#fff';
                    }
                } else {
                    // Reset styles
                    btn.classList.remove('bg-primary', 'text-white', 'shadow-md');
                    btn.style.backgroundColor = '';
                    btn.style.color = '';
                    if (category === 'luxury') {
                        // Keep luxury fancy
                    }
                }
            });

            // Re-render
            renderPackages(category);
        }

        // --- NEW: Payment Modal Logic & Certificate ---
        let currentItemName = '';

        function openPaymentModal(item) {
            if (item.amount === 0 && item.code !== 'TuyTam') {
                alert("C·∫£m ∆°n b·∫°n ƒë√£ h√≠t kh√≠ tr·ªùi c√πng t√¥i. Ch√∫c b·∫°n m·ªôt ng√†y t·ªët l√†nh!");
                return;
            }

            const modal = document.getElementById('payment-modal');
            const contentDiv = document.getElementById('payment-modal-content');
            const paymentView = document.getElementById('payment-view');
            const certView = document.getElementById('certificate-view');
            const nameInput = document.getElementById('donor-name-input');

            // Reset Views & Inputs
            paymentView.classList.remove('hidden');
            certView.classList.add('hidden');
            certView.classList.remove('opacity-100', 'scale-100');
            certView.classList.add('opacity-0', 'scale-95');
            nameInput.value = ''; // Reset input name

            // Store current item name for certificate
            currentItemName = item.name;

            // Update Data
            document.getElementById('modal-item-name').innerText = `Thanh To√°n: ${item.name}`;
            document.getElementById('modal-price').innerText = item.price;

            const content = `Moi Hung ${item.code}`;
            document.getElementById('modal-content').innerText = content;

            const qrData = encodeURIComponent(content);
            document.getElementById('modal-qr-image').src = `https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${qrData}`;

            // Show Modal
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                contentDiv.classList.remove('scale-95');
                contentDiv.classList.add('scale-100');
            }, 10);
        }

        function confirmPayment() {
            // Get user name
            const nameInput = document.getElementById('donor-name-input');
            const donorName = nameInput.value.trim() || 'Nh√† H·∫£o T√¢m B√≠ ·∫®n';

            // 1. Trigger Confetti
            const end = Date.now() + 1000;
            const colors = ['#FF6B6B', '#4ECDC4', '#FFD700', '#ffffff'];

            (function frame() {
                confetti({
                    particleCount: 5,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: colors
                });
                confetti({
                    particleCount: 5,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: colors
                });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            }());

            // 2. Switch to Certificate View
            const paymentView = document.getElementById('payment-view');
            const certView = document.getElementById('certificate-view');

            // Set Certificate Data
            document.getElementById('cert-item-name').innerText = currentItemName;
            document.getElementById('cert-donor-name').innerText = donorName;

            const today = new Date();
            document.getElementById('cert-date').innerText = `${today.getDate()}/${today.getMonth() + 1}/${today.getFullYear()}`;

            // Hide Payment, Show Cert
            paymentView.classList.add('hidden');
            certView.classList.remove('hidden');

            setTimeout(() => {
                certView.classList.remove('opacity-0', 'scale-95');
                certView.classList.add('opacity-100', 'scale-100');
            }, 50);
        }

        // New function to download certificate
        function downloadCertificate() {
            const captureElement = document.getElementById('certificate-capture');

            // Use html2canvas
            html2canvas(captureElement, {
                scale: 2, // High resolution
                useCORS: true // Try to handle cross-origin images if any
            }).then(canvas => {
                // Create download link
                const link = document.createElement('a');
                link.download = 'Chung-Nhan-Nuoi-Hung.png';
                link.href = canvas.toDataURL('image/png');
                link.click();

                // Show success toast
                copyToClipboard('', 'ƒêang t·∫£i gi·∫•y ch·ª©ng nh·∫≠n...');
            }).catch(err => {
                console.error("L·ªói khi t·∫°o ·∫£nh:", err);
                alert("Xin l·ªói, kh√¥ng th·ªÉ t·∫°o ·∫£nh l√∫c n√†y. H√£y th·ª≠ ch·ª•p m√†n h√¨nh nh√©!");
            });
        }

        function closePaymentModal() {
            const modal = document.getElementById('payment-modal');
            const contentDiv = document.getElementById('payment-modal-content');

            modal.classList.add('opacity-0');
            contentDiv.classList.remove('scale-100');
            contentDiv.classList.add('scale-95');

            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        function copyContent() {
            const text = document.getElementById('modal-content').innerText;
            copyToClipboard(text, 'ƒê√£ copy n·ªôi dung chuy·ªÉn kho·∫£n!');
        }

        // Modal Disclaimer Handling
        function closeModal() {
            const modal = document.getElementById('disclaimer-modal');
            modal.classList.add('opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        // Copy to clipboard with custom message
        function copyToClipboard(text, message = 'ƒê√£ sao ch√©p!') {
            if (text) {
                const el = document.createElement('textarea');
                el.value = text;
                document.body.appendChild(el);
                el.select();
                document.execCommand('copy');
                document.body.removeChild(el);
            }

            const toast = document.getElementById('toast');
            const toastMsg = document.getElementById('toast-message');

            toastMsg.innerText = message;

            // Show toast (Reset translate)
            toast.classList.remove('translate-x-[150%]');

            setTimeout(() => {
                toast.classList.add('translate-x-[150%]');
            }, 3000);
        }

        // Mobile Menu
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');
        const links = document.querySelectorAll('.mobile-link');

        btn.addEventListener('click', () => {
            menu.classList.toggle('hidden');
        });

        links.forEach(link => {
            link.addEventListener('click', () => {
                menu.classList.add('hidden');
            });
        });

        // Navbar Scroll
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            if (window.scrollY > 50) {
                nav.classList.add('shadow-md');
                nav.classList.replace('glass', 'bg-white');
                nav.classList.add('bg-opacity-95');
            } else {
                nav.classList.remove('shadow-md');
                nav.classList.replace('bg-white', 'glass');
                nav.classList.remove('bg-opacity-95');
            }
        });

        // Init active state for "All" button
        document.querySelector('.filter-btn[data-filter="all"]').classList.add('bg-primary', 'text-white', 'shadow-md');
        document.querySelector('.filter-btn[data-filter="all"]').classList.remove('bg-white', 'text-primary');

    </script>
</body>

</html>
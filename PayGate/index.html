<!DOCTYPE html>
<html lang="vi" class="h-full">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <!-- Biểu tượng cho web -->
    <link rel="icon" href="/Asset/logo/logo.png">

    <!-- Biểu tượng iPhone -->
    <link rel="apple-touch-icon" href="/Asset/logo/logo.png" sizes="150x150">

    <!-- Primary Meta Tags -->
    <title>Hunq PayGate</title>
    <meta name="title" content="Hunq PayGate" />
    <meta name="description" content="Cổng thanh toán của Đinh Mạnh Hùng" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="Hunq.online/PayGate/" />
    <meta property="og:title" content="Hunq PayGate" />
    <meta property="og:description" content="Cổng thanh toán của Đinh Mạnh Hùng" />
    <meta property="og:image" content="/PayGate/Grap/HunqPayGate.png" />

    <!-- X (Twitter) -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="Hunq.online/PayGate/" />
    <meta property="twitter:title" content="Hunq PayGate" />
    <meta property="twitter:description" content="Cổng thanh toán của Đinh Mạnh Hùng" />
    <meta property="twitter:image" content="/PayGate/Grap/HunqPayGate.png" />

    <style>
        /* Custom styles and theme variables */
        :root {
            --bg-light: #f3f4f6;
            --card-bg-light: #ffffff;
            --text-primary-light: #111827;
            --text-secondary-light: #4b5563;
            --accent-light: #3b82f6;
            --border-light: #e5e7eb;

            --bg-dark: #0d1117;
            --card-bg-dark: #1f2937;
            --text-primary-dark: #e6edf3;
            --text-secondary-dark: #8b949e;
            --accent-dark: #facc15;
            /* Gold accent */
            --border-dark: #30363d;
        }

        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            transition: background 0.5s, color 0.3s;
        }

        /* --- Normal Theme --- */
        .theme-normal {
            background-color: var(--bg-light);
            color: var(--text-primary-light);
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cg fill='%23d1d5db' fill-opacity='0.4'%3E%3Cpath d='M12 0h-1v24h1V0zm11 11v1H0v-1h24z'/%3E%3C/g%3E%3C/svg%3E");
        }

        .theme-normal .card {
            background-color: var(--card-bg-light);
            border-color: var(--border-light);
        }

        .theme-normal .text-primary {
            color: var(--text-primary-light);
        }

        .theme-normal .text-secondary {
            color: var(--text-secondary-light);
        }

        .theme-normal .accent-bg {
            background-color: var(--accent-light);
        }

        .theme-normal .accent-text {
            color: var(--accent-light);
        }

        .theme-normal .border-color {
            border-color: var(--border-light);
        }

        .theme-normal .payment-method.active {
            border-color: var(--accent-light);
            box-shadow: 0 0 0 2px var(--accent-light);
        }

        .theme-normal .copy-btn .tooltip {
            background-color: var(--text-primary-light);
            color: var(--bg-light);
        }

        .theme-normal .hunq-title {
            color: var(--accent-light);
        }


        /* --- VIP Theme --- */
        .theme-vip {
            background-color: var(--bg-dark);
            color: var(--text-primary-dark);
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23facc15' fill-opacity='0.07'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .theme-vip .card {
            background: linear-gradient(145deg, #21262d, #161b22);
            border: 1px solid var(--border-dark);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), 0 0 25px rgba(250, 204, 21, 0.08);
        }

        .theme-vip .text-primary {
            color: var(--text-primary-dark);
            text-shadow: 0 0 2px rgba(255, 255, 255, 0.1);
        }

        .theme-vip .text-secondary {
            color: var(--text-secondary-dark);
        }

        .theme-vip .accent-bg {
            background-color: var(--accent-dark);
            color: #111827;
            font-weight: 600;
            box-shadow: 0 0 12px rgba(250, 204, 21, 0.5), inset 0 1px 1px rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(252, 211, 77, 0.8);
        }

        .theme-vip .accent-text {
            color: var(--accent-dark);
            font-weight: 700;
            text-shadow: 0 0 8px rgba(250, 204, 21, 0.6);
        }

        .theme-vip .border-color {
            border-color: var(--border-dark);
        }

        .theme-vip .payment-method:hover {
            transform: translateY(-3px);
            box-shadow: 0 0 20px rgba(250, 204, 21, 0.2);
        }

        .theme-vip .payment-method.active {
            border-color: var(--accent-dark);
            transform: translateY(-2px);
            box-shadow: 0 0 0 2px var(--accent-dark), 0 0 25px rgba(250, 204, 21, 0.4);
            background: linear-gradient(145deg, #313842, #242930);
        }

        .theme-vip #qr-code {
            border: 2px solid var(--accent-dark);
            padding: 5px;
            background: #fff;
            box-shadow: 0 0 15px rgba(250, 204, 21, 0.7);
        }

        .theme-vip .copy-btn .tooltip {
            background-color: var(--accent-dark);
            color: #111827;
            font-weight: 500;
        }

        .theme-vip .hunq-title {
            color: var(--accent-dark);
            text-shadow: 0 0 8px rgba(250, 204, 21, 0.6);
        }


        /* --- Status Themes (inherit from normal) --- */
        .status-maintenance,
        .status-error {
            background-color: var(--bg-light);
            color: var(--text-primary-light);
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cg fill='%23d1d5db' fill-opacity='0.4'%3E%3Cpath d='M12 0h-1v24h1V0zm11 11v1H0v-1h24z'/%3E%3C/g%3E%3C/svg%3E");
        }

        .status-maintenance .card,
        .status-error .card {
            background-color: var(--card-bg-light);
            border-color: var(--border-light);
        }

        .status-maintenance #payment-flow,
        .status-error #payment-flow {
            opacity: 0.5;
            pointer-events: none;
        }

        /* General Styles */
        .payment-method {
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        .tooltip {
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.2s;
            pointer-events: none;
        }

        .copy-btn:hover .tooltip {
            opacity: 1;
        }

        #qr-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        /* Status Indicator Styles */
        .status-dot {
            transition: background-color 0.3s;
        }

        .theme-normal .status-dot {
            background-color: #22c55e;
        }

        .theme-normal .status-text {
            color: #166534;
        }

        .theme-vip .status-dot {
            background-color: var(--accent-dark);
        }

        .theme-vip .status-text {
            color: var(--accent-dark);
        }

        .status-maintenance .status-dot {
            background-color: #f59e0b;
        }

        .status-maintenance .status-text {
            color: #b45309;
        }

        .status-error .status-dot {
            background-color: #ef4444;
        }

        .status-error .status-text {
            color: #b91c1c;
        }

        /* Title Styles */
        .paylab-title {
            color: inherit;
            font-weight: 100;
            font-size: 18px;
        }
    </style>
</head>

<body class="min-h-screen flex flex-col">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-6xl flex flex-col flex-grow min-h-0">

        <header class="flex justify-between items-center mb-6 flex-shrink-0">
            <h1 class="text-2xl sm:text-3xl font-bold text-primary">
                <span class="hunq-title">Hunq </span><span class="paylab-title">PayGate</span>
            </h1>
            <div id="status-indicator" class="flex items-center space-x-2">
                <span class="status-text text-sm font-semibold"></span>
                <span class="status-dot w-3 h-3 rounded-full"></span>
            </div>
        </header>

        <main
            class="card  border rounded-xl shadow-lg transition-all duration-300 flex-grow flex flex-col md:justify-center">
            <div class="lg:grid lg:grid-cols-2  w-full h-full">
                <div class="lg:col-span-1 p-6 sm:p-8 flex flex-col">
                    <div id="status-message-container">
                        <div id="maintenance-message"
                            class="hidden mb-6 p-4 bg-amber-100 border-l-4 border-amber-500 text-amber-700 rounded-r-lg">
                            <h3 class="font-bold">Hệ thống đang bảo trì</h3>
                            <p>Cổng thanh toán đang được bảo trì để nâng cấp. Vui lòng quay lại sau.</p>
                        </div>
                        <div id="error-message"
                            class="hidden mb-6 p-4 bg-red-100 border-l-4 border-red-500 text-red-700 rounded-r-lg">
                            <h3 class="font-bold">Cổng thanh toán tạm ngưng</h3>
                            <p>Đã xảy ra lỗi với hệ thống thanh toán. Vui lòng thử lại sau.</p>
                        </div>
                    </div>
                    <div id="payment-flow" class="flex-grow flex flex-col">
                        <section id="method-selection">
                            <h2 class="text-lg font-semibold text-primary mb-1">1. Chọn phương thức thanh toán</h2>
                            <p class="text-sm text-secondary mb-4">Vui lòng chọn một trong các phương thức dưới đây.</p>
                            <div id="payment-methods" class="grid grid-cols-1 gap-4"></div>
                        </section>
                    </div>
                </div>
                <div class="lg:col-span-1 lg:border-l border-color flex flex-col p-6 sm:p-8">
                    <div id="details-placeholder" class="flex flex-grow items-center justify-center text-center">
                        <div>
                            <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor" aria-hidden="true">
                                <path vector-effect="non-scaling-stroke" stroke-linecap="round" stroke-linejoin="round"
                                    stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <h3 class="mt-2 text-sm font-medium text-primary">Chưa chọn phương thức</h3>
                            <p class="mt-1 text-sm text-secondary">Vui lòng chọn một phương thức thanh toán ở bên trái.
                            </p>
                        </div>
                    </div>
                    <section id="payment-details-container" class="hidden">
                        <h2 class="text-lg font-semibold text-primary mb-4">2. Thông tin thanh toán</h2>
                        <div class="flex flex-col md:flex-row gap-6 md:gap-8">
                            <div class="flex-shrink-0 text-center md:text-left">
                                <div id="qr-code"
                                    class="relative w-48 h-48 mx-auto bg-gray-200 rounded-lg flex items-center justify-center border border-color transition-all duration-300">
                                    <img id="qr-image" class="rounded-md" src="" alt="Mã QR thanh toán">
                                </div>
                                <a id="download-qr-btn" href="#" download="Ma-QR-Thanh-Toan-HunqStore.png"
                                    class="mt-3 inline-block w-48 text-center accent-bg text-white text-sm font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-all duration-300">Tải
                                    xuống QR</a>
                            </div>
                            <div class="flex-grow">
                                <div id="provider-logo-container" class="flex items-center mb-4"><img id="provider-logo"
                                        src="" alt="Provider Logo" class="h-8 mr-3"><span id="provider-name"
                                        class="text-xl font-bold text-primary"></span></div>
                                <div class="space-y-4">
                                    <div class="info-line">
                                        <p class="text-sm text-secondary">Ngân hàng/Ví</p>
                                        <div class="flex items-center">
                                            <p id="bank-name" class="text-base font-semibold text-primary mr-2"></p>
                                            <button class="copy-btn" data-target="bank-name"></button>
                                        </div>
                                    </div>
                                    <div class="info-line">
                                        <p class="text-sm text-secondary">Số tài khoản</p>
                                        <div class="flex items-center">
                                            <p id="account-number" class="text-base font-semibold text-primary mr-2">
                                            </p><button class="copy-btn" data-target="account-number"></button>
                                        </div>
                                    </div>
                                    <div class="info-line">
                                        <p class="text-sm text-secondary">Chủ tài khoản</p>
                                        <div class="flex items-center">
                                            <p id="account-name" class="text-base font-semibold text-primary mr-2"></p>
                                        </div>
                                    </div>
                                    <div class="info-line">
                                        <p class="text-sm text-secondary">Nội dung chuyển khoản</p>
                                        <div class="flex items-center">
                                            <p id="transfer-content" class="text-base font-bold accent-text mr-2"></p>
                                            <button class="copy-btn" data-target="transfer-content"></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-6 p-3 bg-blue-100 border-l-4 border-blue-500 text-blue-700 rounded-r-lg">
                            <p class="text-sm font-medium"><strong>Lưu ý:</strong> Vui lòng nhập chính xác nội dung
                                chuyển khoản để đơn hàng được xác nhận tự động. ( Nên sử dụng QR )</p>
                            <br>
                            <p class="text-sm font-medium">Nhớ kiểm tra lại thông tin chuyển khoản & lưu lại bill chuyển
                                tiền để có thể xử lý khi có lỗi.</p>
                        </div>
                    </section>
                </div>
            </div>
        </main>

        <footer class="text-center mt-6 flex-shrink-0">
            <p class="text-sm text-secondary">&copy; 2024 Hunq Store. All Rights Reserved.</p>
        </footer>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- DATA ---
            const bankingInfo = {
                // *** THAY ĐỔI: Thay thế qrDataFormat bằng qrImagePath ***
                vietcombank: { name: "Vietcombank", accountNumber: "1015894887", accountName: "DINH MANH HUNG", logo: "./icon/Icon-Vietcombank.webp", qrImagePath: "./QR/VCB-QR.png" },
                vietcapittalbank: { name: "VietCapitalBank", accountNumber: "99MM24030M09540726", accountName: "MOMO_DINH MANH HUNG", logo: "./icon/Icon-BVBank.png", qrImagePath: "./QR/Momo-QR.png" },
                momo: { name: "Ví MoMo", accountNumber: "Đang cập nhật", accountName: "Đang cập nhật", logo: "./icon/Icon-Momo.png", qrImagePath: "./icon/Icon-Momo.png" },

            };
            const defaultContent = "Thanh Toan Hunq Store";

            // --- DOM ELEMENTS ---
            const body = document.body;
            const statusIndicator = document.getElementById('status-indicator');
            const statusText = statusIndicator.querySelector('.status-text');
            const maintenanceMessage = document.getElementById('maintenance-message');
            const errorMessage = document.getElementById('error-message');
            const paymentMethodsContainer = document.getElementById('payment-methods');
            const detailsPlaceholder = document.getElementById('details-placeholder');
            const paymentDetailsContainer = document.getElementById('payment-details-container');
            const providerLogo = document.getElementById('provider-logo');
            const providerName = document.getElementById('provider-name');
            const qrImage = document.getElementById('qr-image');
            const downloadQrBtn = document.getElementById('download-qr-btn');
            const bankNameEl = document.getElementById('bank-name');
            const accountNumberEl = document.getElementById('account-number');
            const accountNameEl = document.getElementById('account-name');
            const transferContentEl = document.getElementById('transfer-content');

            // --- FUNCTIONS ---
            function setPageStatus(status) {
                body.className = 'min-h-screen flex flex-col';
                maintenanceMessage.classList.add('hidden');
                errorMessage.classList.add('hidden');

                switch (status) {
                    case 'vip':
                        body.classList.add('theme-vip');
                        statusText.textContent = 'Quyền lợi VIP';
                        break;
                    case 'maintenance':
                        body.classList.add('status-maintenance');
                        statusText.textContent = 'Bảo trì';
                        maintenanceMessage.classList.remove('hidden');
                        break;
                    case 'error':
                        body.classList.add('status-error');
                        statusText.textContent = 'Lỗi';
                        errorMessage.classList.remove('hidden');
                        break;
                    case 'online':
                    default:
                        body.classList.add('theme-normal');
                        statusText.textContent = 'Đang hoạt động';
                        break;
                }

                initPaymentMethods(status);
            }

            // *** THAY ĐỔI: Xóa hàm generateQrCode không còn sử dụng ***

            function copyToClipboard(text, btn) {
                const originalTooltip = btn.querySelector('.tooltip-text').textContent;
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    document.execCommand('copy');
                    btn.querySelector('.tooltip-text').textContent = 'Đã chép!';
                } catch (err) {
                    btn.querySelector('.tooltip-text').textContent = 'Lỗi!';
                }
                document.body.removeChild(textarea);
                setTimeout(() => {
                    btn.querySelector('.tooltip-text').textContent = originalTooltip;
                }, 1500);
            }

            function updateDisplay(providerKey) {
                const info = bankingInfo[providerKey];
                if (!info) return;

                detailsPlaceholder.classList.add('hidden');
                paymentDetailsContainer.classList.remove('hidden');

                providerLogo.src = info.logo;
                providerName.textContent = info.name;
                bankNameEl.textContent = info.name;
                accountNumberEl.textContent = info.accountNumber;
                accountNameEl.textContent = info.accountName;
                transferContentEl.textContent = defaultContent;

                // *** THAY ĐỔI: Sử dụng đường dẫn ảnh tĩnh từ bankingInfo ***
                const qrUrl = info.qrImagePath;
                qrImage.src = qrUrl;
                downloadQrBtn.href = qrUrl;
                // Cập nhật tên file tải về cho phù hợp
                downloadQrBtn.download = `QR-${info.name.replace(/\s/g, '')}.png`;
            }

            function initPaymentMethods(status) {
                paymentMethodsContainer.innerHTML = '';
                if (status === 'online' || status === 'vip') {
                    Object.keys(bankingInfo).forEach(key => {
                        const info = bankingInfo[key];
                        const button = document.createElement('button');
                        button.className = 'payment-method border-2 border-color p-4 rounded-lg flex items-center space-x-4';
                        button.dataset.provider = key;
                        button.innerHTML = `<img src="${info.logo}" alt="${info.name}" class="h-8 w-auto object-contain"><span class="font-semibold text-primary">${info.name}</span>`;
                        button.addEventListener('click', () => {
                            document.querySelectorAll('.payment-method').forEach(btn => btn.classList.remove('active'));
                            button.classList.add('active');
                            updateDisplay(key);
                        });
                        paymentMethodsContainer.appendChild(button);
                    });
                }
            }

            // --- INITIALIZATION ---
            setPageStatus('online');

            document.querySelectorAll('.copy-btn').forEach(btn => {
                btn.classList.add('relative', 'p-1', 'rounded-full', 'hover:bg-gray-200');
                btn.innerHTML = `<svg class="w-4 h-4 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span class="tooltip"><span class="tooltip-text">Sao chép</span></span>`;
                btn.addEventListener('click', (e) => {
                    const targetId = e.currentTarget.dataset.target;
                    const textToCopy = document.getElementById(targetId).textContent;
                    copyToClipboard(textToCopy, e.currentTarget);
                });
            });
        });
    </script>
</body>

</html>
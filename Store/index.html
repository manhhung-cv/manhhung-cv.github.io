<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hunq Store - Cửa hàng trực tuyến</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
        // Script chèn vào <head> để tránh FOUC (Flash of Unstyled Content) khi tải lại trang
        const theme = localStorage.getItem('theme') || 'system';
        if (theme === 'dark' || (theme === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            background-color: #f8fafc;
            /* slate-50 */
        }

        .dark body {
            background-color: #020617;
            /* slate-950 */
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            /* blue-500 */
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;
            display: none;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .royal-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .dark .royal-card {
            background: rgba(30, 41, 59, 0.7);
            /* slate-800/70 */
            border: 1px solid rgba(51, 65, 85, 0.3);
            /* slate-700/30 */
        }

        details[open] summary i[data-lucide="chevron-down"] {
            transform: rotate(180deg);
        }
    </style>
</head>

<body class="bg-slate-50 dark:bg-slate-950 text-slate-800 dark:text-slate-200">

    <div id="loader" class="loader"></div>

    <header id="main-header" class="sticky top-0 z-40">
        <div class="container mx-auto px-4 py-2">
            <div
                class="flex items-center justify-between h-14 rounded-xl px-4 royal-card shadow-lg shadow-slate-200/50 dark:shadow-black/20">
                <a href="#home" class="text-2xl font-bold text-slate-800 dark:text-slate-200">
                    Hunq<span class="text-blue-500">Store</span>
                </a>

                <div class="hidden md:flex flex-1 max-w-xl mx-8">
                    <div class="relative w-full">
                        <input type="search" id="search-input-desktop"
                            class="w-full rounded-full border border-transparent bg-black/5 py-2 pl-10 pr-4 text-slate-800 placeholder:text-slate-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-white/5 dark:text-white dark:placeholder-slate-400 dark:focus:border-blue-500"
                            placeholder="Tìm kiếm sản phẩm...">
                        <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                            <i data-lucide="search" class="w-5 h-5 text-slate-400"></i>
                        </div>
                    </div>
                </div>

                <div class="flex items-center space-x-2 md:space-x-4">
                    <a href="#cart"
                        class="relative rounded-full p-2 text-slate-600 hover:bg-black/5 hover:text-blue-500 dark:text-slate-400 dark:hover:bg-white/10">
                        <i data-lucide="shopping-cart" class="w-6 h-6"></i>
                        <span id="cart-item-count"
                            class="absolute top-0 right-0 -mt-1 -mr-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs text-white">0</span>
                    </a>

                    <div class="relative">
                        <button id="theme-menu-button"
                            class="rounded-full p-2 text-slate-600 hover:bg-black/5 hover:text-blue-500 dark:text-slate-400 dark:hover:bg-white/10">
                            <i data-lucide="sun" id="theme-icon-active" class="w-6 h-6"></i>
                        </button>
                        <div id="theme-menu"
                            class="hidden absolute right-0 mt-2 w-36 rounded-xl bg-white py-1 shadow-lg z-50 dark:bg-slate-700">
                            <a href="#"
                                class="theme-option flex items-center gap-2 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-600"
                                data-theme="light">
                                <i data-lucide="sun" class="w-4 h-4"></i> Sáng
                            </a>
                            <a href="#"
                                class="theme-option flex items-center gap-2 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-600"
                                data-theme="dark">
                                <i data-lucide="moon" class="w-4 h-4"></i> Tối
                            </a>
                            <a href="#"
                                class="theme-option flex items-center gap-2 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-600"
                                data-theme="system">
                                <i data-lucide="laptop" class="w-4 h-4"></i> Hệ thống
                            </a>
                        </div>
                    </div>

                    <div id="user-actions" class="flex items-center space-x-4">
                        <div id="logged-out-view" class="">
                            <a href="#login"
                                class="rounded-full bg-blue-500 px-4 py-2 text-sm font-medium text-white hover:bg-blue-600">Đăng
                                nhập</a>
                        </div>
                        <div id="logged-in-view" class="hidden relative">
                            <button id="user-menu-button"
                                class="flex items-center rounded-full hover:ring-2 hover:ring-blue-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                <img id="user-avatar" src="" alt="User Avatar" class="w-9 h-9 rounded-full">
                            </button>
                            <div id="user-menu"
                                class="hidden absolute right-0 mt-2 w-48 rounded-xl bg-white py-1 shadow-lg z-50 dark:bg-slate-700">
                                <div class="px-4 py-2 border-b dark:border-slate-600">
                                    <p id="user-menu-name"
                                        class="font-semibold text-sm text-slate-800 dark:text-slate-200 truncate"></p>
                                    <p id="user-menu-email" class="text-xs text-slate-500 dark:text-slate-400 truncate">
                                    </p>
                                </div>
                                <a href="#" id="edit-profile-link"
                                    class="block px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-600">Tài
                                    khoản của tôi</a>
                                <a href="#orders"
                                    class="block px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-600">Đơn
                                    hàng của
                                    tôi</a>
                                <a href="#admin" id="admin-link"
                                    class="hidden block px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-600">Trang
                                    Admin</a>
                                <button id="logout-button"
                                    class="block w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-600">Đăng
                                    xuất</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="md:hidden pt-2 pb-4">
                <div class="relative w-full">
                    <input type="search" id="search-input-mobile"
                        class="w-full rounded-full border border-slate-300 bg-white/50 py-2 pl-10 pr-4 text-slate-800 placeholder:text-slate-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-700/50 dark:text-white dark:placeholder-slate-400"
                        placeholder="Tìm kiếm sản phẩm...">
                    <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                        <i data-lucide="search" class="w-5 h-5 text-slate-400"></i>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto p-4 min-h-screen">
        <div id="home-page" class="page active">
            <h1 class="text-3xl font-bold text-slate-800 dark:text-slate-100 mb-6">Sản phẩm nổi bật</h1>
            <div class="flex justify-between items-center mb-6">
                <h1 class="text-3xl font-bold text-slate-800 dark:text-slate-100">Sản phẩm nổi bật</h1>
                <div class="hidden sm:flex items-center gap-1 rounded-lg bg-slate-200 p-1 dark:bg-slate-700">
                    <button id="product-view-grid-btn"
                        class="rounded-md bg-white p-1.5 text-blue-600 shadow-sm dark:bg-slate-800">
                        <i data-lucide="layout-grid" class="h-5 w-5"></i>
                    </button>
                    <button id="product-view-list-btn"
                        class="rounded-md p-1.5 text-slate-500 hover:bg-white/50 hover:text-blue-600 dark:text-slate-400 dark:hover:bg-slate-800/50">
                        <i data-lucide="list" class="h-5 w-5"></i>
                    </button>
                </div>
            </div>
            <div id="product-list"
                class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-6">
            </div>
        </div>

        <div id="product-detail-page" class="page">
        </div>

        <div id="cart-page" class="page">
            <h1 class="text-3xl font-bold text-slate-800 dark:text-slate-100 mb-6">Giỏ hàng của bạn</h1>
            <div id="cart-content" class="royal-card p-4 sm:p-6 rounded-2xl">
            </div>
        </div>

        <div id="orders-page" class="page">
            <div class="flex flex-col md:flex-row justify-between md:items-center mb-6 gap-4">
                <h1 class="text-3xl font-bold text-slate-800 dark:text-slate-100">Đơn hàng của tôi</h1>
                <div class="relative w-full md:w-auto">
                    <input type="search" id="user-order-search"
                        class="w-full rounded-full border border-slate-300 bg-white/80 py-2 pl-10 pr-4 text-slate-800 placeholder:text-slate-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-800/80 dark:text-white"
                        placeholder="Tìm đơn hàng...">
                    <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                        <i data-lucide="search" class="w-5 h-5 text-slate-400"></i>
                    </div>
                </div>
            </div>
            <div id="order-list" class="space-y-4">
            </div>
        </div>

        <div id="login-page" class="page">
            <div class="flex items-center justify-center py-12">
                <div class="mx-auto grid w-[350px] gap-6 royal-card p-8 rounded-2xl text-center">
                    <div class="grid gap-2">
                        <h1 class="text-3xl font-bold dark:text-white">Chào mừng bạn!</h1>
                        <p class="text-balance text-slate-500 dark:text-slate-400">
                            Sử dụng tài khoản Google để tiếp tục mua sắm.
                        </p>
                    </div>
                    <button id="google-signin-btn"
                        class="w-full bg-white border border-slate-300 text-slate-700 font-semibold py-2 px-4 rounded-full hover:bg-slate-50 transition-colors flex items-center justify-center gap-2 dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:hover:bg-slate-600">
                        <svg class="w-5 h-5" viewBox="0 0 48 48">
                            <path fill="#FFC107"
                                d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z">
                            </path>
                            <path fill="#FF3D00"
                                d="M6.306,14.691l6.06,4.71c3.843-2.33,8.548-2.33,12.39,0l6.06-4.71C27.94,11.237,20.06,11.237,12.366,14.691z">
                            </path>
                            <path fill="#4CAF50"
                                d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z">
                            </path>
                            <path fill="#1976D2"
                                d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571l6.19,5.238C39.986,36.623,44,30.651,44,24C44,22.659,43.862,21.35,43.611,20.083z">
                            </path>
                        </svg>
                        <span>Đăng nhập với Google</span>
                    </button>
                </div>
            </div>
        </div>

        <div id="admin-page" class="page">
            <h1 class="text-3xl font-bold text-slate-800 dark:text-slate-100 mb-6">Trang Quản Trị</h1>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="lg:col-span-2 space-y-6">
                    <div class="royal-card p-6 rounded-2xl">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-xl font-semibold dark:text-slate-200">Quản lý Sản phẩm</h2>
                            <button id="show-add-product-modal"
                                class="bg-green-500 text-white px-4 py-2 rounded-xl hover:bg-green-600 font-semibold text-sm">Thêm
                                Sản phẩm</button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm text-left text-slate-500 dark:text-slate-400">
                                <thead
                                    class="text-xs text-slate-700 uppercase bg-black/5 dark:bg-white/5 dark:text-slate-300">
                                    <tr>
                                        <th scope="col" class="px-6 py-3">Sản phẩm</th>
                                        <th scope="col" class="px-6 py-3">Giá bán</th>
                                        <th scope="col" class="px-6 py-3">Tồn kho</th>
                                        <th scope="col" class="px-6 py-3">Hành động</th>
                                    </tr>
                                </thead>
                                <tbody id="admin-product-list">
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="royal-card p-6 rounded-2xl">
                        <div class="flex flex-col md:flex-row justify-between md:items-center mb-4 gap-4">
                            <h2 class="text-xl font-semibold dark:text-slate-200">Quản lý Đơn hàng</h2>
                            <div class="flex items-center gap-1 rounded-lg bg-slate-200 p-1 dark:bg-slate-700">
                                <button id="admin-view-list-btn"
                                    class="rounded-md bg-white p-1.5 text-blue-600 shadow-sm dark:bg-slate-800">
                                    <i data-lucide="list" class="h-5 w-5"></i>
                                </button>
                                <button id="admin-view-grid-btn"
                                    class="rounded-md p-1.5 text-slate-500 hover:bg-white/50 hover:text-blue-600 dark:text-slate-400 dark:hover:bg-slate-800/50">
                                    <i data-lucide="layout-grid" class="h-5 w-5"></i>
                                </button>
                            </div>
                            <div class="flex flex-col md:flex-row gap-2 w-full md:w-auto">
                                <div class="relative flex-grow">
                                    <input type="search" id="admin-order-search"
                                        placeholder="Tìm theo mã đơn, tên, email..."
                                        class="w-full rounded-full border border-transparent bg-black/5 py-2 pl-10 pr-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-white/5 dark:text-white dark:focus:border-blue-500">
                                    <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                                        <i data-lucide="search" class="w-5 h-5 text-slate-400"></i>
                                    </div>
                                </div>
                                <select id="admin-order-filter"
                                    class="w-full md:w-48 rounded-full border border-transparent bg-black/5 px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-white/5 dark:text-white dark:focus:border-blue-500">
                                </select>
                            </div>
                        </div>
                        <div id="admin-order-list" class="space-y-3">
                        </div>
                    </div>
                </div>
                <div class="space-y-6">
                    <div id="discount-management-container" class="royal-card p-6 rounded-2xl">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-xl font-semibold dark:text-slate-200">Mã giảm giá</h2>
                            <button id="add-discount-code-btn"
                                class="bg-blue-500 text-white px-3 py-1.5 text-sm rounded-xl hover:bg-blue-600 font-semibold">Thêm
                                mới</button>
                        </div>
                        <div id="admin-discount-list" class="space-y-2">
                        </div>
                    </div>
                    <div class="royal-card p-6 rounded-2xl">
                        <h2 class="text-xl font-semibold mb-4 dark:text-slate-200">Quản lý Người dùng</h2>
                        <div id="admin-user-list" class="space-y-3">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-slate-800 text-white dark:bg-black dark:text-slate-300 mt-12">
        <div class="container mx-auto px-4 py-6 text-center">
            <p>&copy; 2025 Hunq Store. All rights reserved.</p>
        </div>
    </footer>

    <div id="product-modal"
        class="hidden fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4">
        <div class="royal-card p-8 rounded-2xl shadow-xl w-full max-w-2xl max-h-screen overflow-y-auto">
            <h2 id="modal-title" class="text-2xl font-bold mb-6 dark:text-white">Thêm Sản phẩm Mới</h2>
            <form id="product-form">
                <input type="hidden" id="product-id">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="space-y-4">
                        <div>
                            <label for="product-name"
                                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Tên sản
                                phẩm</label>
                            <input type="text" id="product-name" required
                                class="block w-full rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-blue-500 dark:focus:ring-blue-500">
                        </div>
                        <div>
                            <label for="product-slug"
                                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Mã URL sản
                                phẩm (slug)</label>
                            <input type="text" id="product-slug" placeholder="de-trong-de-tu-dong-tao"
                                class="block w-full rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-blue-500 dark:focus:ring-blue-500">
                            <p class="text-xs text-slate-500 mt-1">Chỉ chứa chữ thường, số, và dấu gạch ngang (-). Ví
                                dụ: ao-thun-the-thao</p>
                        </div>
                        <div>
                            <label for="product-description"
                                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Mô tả</label>
                            <textarea id="product-description" rows="4" required
                                class="block w-full rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-blue-500 dark:focus:ring-blue-500"></textarea>
                        </div>
                        <div>
                            <label for="product-image-url-input"
                                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">URL Ảnh sản
                                phẩm</label>
                            <input type="url" id="product-image-url-input" placeholder="https://example.com/image.png"
                                class="block w-full rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-blue-500 dark:focus:ring-blue-500">
                        </div>
                    </div>

                    <div>
                        <h3 class="text-lg font-medium dark:text-white mb-2">Phân loại sản phẩm</h3>
                        <div id="variant-container" class="space-y-3 max-h-60 overflow-y-auto pr-2">
                        </div>
                        <button type="button" id="add-variant-btn"
                            class="mt-3 text-sm bg-blue-500 text-white px-3 py-1.5 rounded-xl hover:bg-blue-600 font-semibold">Thêm
                            phân loại</button>
                    </div>
                </div>

                <div class="flex justify-end space-x-4 mt-8">
                    <button type="button" id="cancel-product-form"
                        class="bg-slate-200 text-slate-800 px-4 py-2 rounded-xl hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500 font-semibold text-sm">Hủy</button>
                    <button type="submit"
                        class="bg-blue-500 text-white px-4 py-2 rounded-xl hover:bg-blue-600 font-semibold text-sm">Lưu
                        sản phẩm</button>
                </div>
            </form>
        </div>
    </div>


    <div id="discount-code-modal"
        class="hidden fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4">
        <div class="royal-card p-8 rounded-2xl shadow-xl w-full max-w-lg max-h-screen overflow-y-auto">
            <h2 id="discount-modal-title" class="text-2xl font-bold mb-6 dark:text-white">Thêm Mã Giảm Giá</h2>
            <form id="discount-code-form">
                <input type="hidden" id="discount-code-id">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label for="discount-code-name" class="block text-sm font-medium dark:text-slate-300 mb-1">Mã
                            (eg. SALE10)</label>
                        <input type="text" id="discount-code-name" required
                            class="block w-full rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 text-sm shadow-sm uppercase placeholder:text-slate-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-blue-500 dark:focus:ring-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium dark:text-slate-300 mb-1">Loại giảm giá</label>
                        <select id="discount-type"
                            class="block w-full rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 text-sm shadow-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-blue-500 dark:focus:ring-blue-500">
                            <option value="percentage">Phần trăm (%)</option>
                            <option value="fixed">Số tiền cố định (VND)</option>
                        </select>
                    </div>
                    <div>
                        <label for="discount-value" class="block text-sm font-medium dark:text-slate-300 mb-1">Giá trị
                            giảm</label>
                        <input type="number" id="discount-value" min="0" required
                            class="block w-full rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-blue-500 dark:focus:ring-blue-500">
                    </div>
                    <div>
                        <label for="discount-max-amount" class="block text-sm font-medium dark:text-slate-300 mb-1">Giảm
                            tối đa (VND)</label>
                        <input type="number" id="discount-max-amount" min="0"
                            class="block w-full rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-blue-500 dark:focus:ring-blue-500"
                            placeholder="Bỏ trống nếu không giới hạn">
                    </div>
                </div>
                <div class="mb-4">
                    <label for="discount-min-purchase" class="block text-sm font-medium dark:text-slate-300 mb-1">Đơn
                        hàng tối thiểu (VND)</label>
                    <input type="number" id="discount-min-purchase" min="0" required
                        class="block w-full rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-blue-500 dark:focus:ring-blue-500"
                        value="0">
                </div>
                <div class="mt-4">
                    <label class="block text-sm font-medium dark:text-slate-300">Áp dụng cho</label>
                    <div class="mt-2 space-y-2">
                        <label class="flex items-center">
                            <input type="radio" name="applicableTo" value="all" checked
                                class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-700 dark:checked:bg-blue-600">
                            <span class="ml-2 text-sm dark:text-slate-300">Tất cả sản phẩm</span>
                        </label>
                        <label class="flex items-center">
                            <input type="radio" name="applicableTo" value="specific"
                                class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-700 dark:checked:bg-blue-600">
                            <span class="ml-2 text-sm dark:text-slate-300">Sản phẩm cụ thể</span>
                        </label>
                    </div>
                </div>
                <div id="specific-products-container" class="hidden mt-4">
                    <label class="block text-sm font-medium dark:text-slate-300">Chọn sản phẩm</label>
                    <div id="discount-product-list"
                        class="mt-2 h-40 overflow-y-auto border rounded-xl p-2 dark:border-slate-600 bg-slate-50 dark:bg-slate-800/50">
                    </div>
                </div>
                <div class="flex justify-end space-x-4 mt-8">
                    <button type="button" id="cancel-discount-form"
                        class="bg-slate-200 text-slate-800 px-4 py-2 rounded-xl hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500 font-semibold text-sm">Hủy</button>
                    <button type="submit"
                        class="bg-blue-500 text-white px-4 py-2 rounded-xl hover:bg-blue-600 font-semibold text-sm">Lưu
                        Mã</button>
                </div>
            </form>
        </div>
    </div>

    <div id="profile-info-modal"
        class="hidden fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4">
        <div class="royal-card p-8 rounded-2xl shadow-xl w-full max-w-md">
            <div class="flex justify-between items-center mb-4">
                <h2 id="profile-modal-title" class="text-2xl font-bold dark:text-white">Cập nhật thông tin</h2>
                <button id="close-profile-modal"
                    class="text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 text-3xl leading-none">&times;</button>
            </div>
            <p id="profile-modal-subtitle" class="text-slate-600 dark:text-slate-400 mb-6">Chỉnh sửa thông tin cá nhân
                của bạn.</p>
            <form id="profile-info-form" class="space-y-4">
                <div>
                    <label for="profile-name"
                        class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Họ và tên</label>
                    <input type="text" id="profile-name" required
                        class="block w-full rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-blue-500 dark:focus:ring-blue-500">
                </div>
                <div>
                    <label for="profile-email"
                        class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Email (không thể thay
                        đổi)</label>
                    <input type="email" id="profile-email" disabled
                        class="block w-full cursor-not-allowed rounded-xl border border-slate-300 bg-slate-200 px-3 py-2 text-sm text-slate-500 shadow-sm dark:border-slate-600 dark:bg-slate-700/50 dark:text-slate-400">
                </div>
                <div>
                    <label for="profile-phone"
                        class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Số điện thoại</label>
                    <input type="tel" id="profile-phone"
                        class="block w-full rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-blue-500 dark:focus:ring-blue-500">
                </div>
                <div>
                    <label for="profile-address"
                        class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Địa chỉ</label>
                    <input type="text" id="profile-address"
                        class="block w-full rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-blue-500 dark:focus:ring-blue-500">
                </div>
                <div class="flex justify-end pt-4">
                    <button type="submit" id="profile-form-submit-btn"
                        class="bg-blue-500 text-white px-4 py-2 rounded-xl hover:bg-blue-600 font-semibold text-sm">Lưu
                        thay đổi</button>
                </div>
            </form>
        </div>
    </div>

    <div id="admin-edit-user-modal"
        class="hidden fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4">
        <div class="royal-card p-8 rounded-2xl shadow-xl w-full max-w-md">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold dark:text-white">Chỉnh sửa Người dùng</h2>
                <button id="close-admin-edit-user-modal"
                    class="text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 text-3xl leading-none">&times;</button>
            </div>
            <form id="admin-edit-user-form" class="space-y-4">
                <input type="hidden" id="admin-edit-user-id">
                <div>
                    <label for="admin-edit-user-email"
                        class="block text-sm font-medium dark:text-slate-300 mb-1">Email</label>
                    <input type="email" id="admin-edit-user-email" disabled
                        class="block w-full cursor-not-allowed rounded-xl border border-slate-300 bg-slate-200 px-3 py-2 text-sm text-slate-500 shadow-sm dark:border-slate-600 dark:bg-slate-700/50 dark:text-slate-400">
                </div>
                <div>
                    <label for="admin-edit-user-name" class="block text-sm font-medium dark:text-slate-300 mb-1">Họ và
                        tên</label>
                    <input type="text" id="admin-edit-user-name" required
                        class="block w-full rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-blue-500 dark:focus:ring-blue-500">
                </div>
                <div>
                    <label for="admin-edit-user-phone" class="block text-sm font-medium dark:text-slate-300 mb-1">Số
                        điện thoại</label>
                    <input type="tel" id="admin-edit-user-phone"
                        class="block w-full rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-blue-500 dark:focus:ring-blue-500">
                </div>
                <div>
                    <label for="admin-edit-user-address" class="block text-sm font-medium dark:text-slate-300 mb-1">Địa
                        chỉ</label>
                    <input type="text" id="admin-edit-user-address"
                        class="block w-full rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-blue-500 dark:focus:ring-blue-500">
                </div>
                <div class="pt-2">
                    <label class="flex items-center">
                        <input type="checkbox" id="admin-edit-user-isadmin"
                            class="h-4 w-4 rounded border-slate-300 text-blue-600 shadow-sm focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-700 dark:checked:bg-blue-600">
                        <span class="ml-2 text-sm text-slate-600 dark:text-slate-300">Cấp quyền Admin</span>
                    </label>
                </div>
                <div class="flex justify-end pt-4">
                    <button type="submit"
                        class="bg-blue-500 text-white px-4 py-2 rounded-xl hover:bg-blue-600 font-semibold text-sm">Lưu
                        thay đổi</button>
                </div>
            </form>
        </div>
    </div>

    <div id="payment-modal"
        class="hidden fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4">
        <div class="royal-card p-8 rounded-2xl shadow-xl w-full max-w-lg">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold dark:text-white">Xác nhận đơn hàng</h2>
                <button id="close-payment-modal"
                    class="text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 text-3xl leading-none">&times;</button>
            </div>

            <div class="mb-4">
                <label for="user-order-note" class="block text-sm font-medium dark:text-slate-300 mb-1">Ghi chú cho đơn
                    hàng (tùy chọn)</label>
                <textarea id="user-order-note" rows="2"
                    class="block w-full rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-blue-500 dark:focus:ring-blue-500"></textarea>
            </div>

            <h3 class="font-semibold mb-2 dark:text-white">Chọn phương thức thanh toán</h3>
            <div class="space-y-4">
                <label
                    class="flex items-center p-4 border rounded-2xl cursor-pointer bg-black/5 dark:bg-white/5 border-slate-300 dark:border-slate-700 has-[:checked]:ring-2 has-[:checked]:ring-blue-500 has-[:checked]:border-blue-500">
                    <input type="radio" name="paymentMethod" value="cod" checked
                        class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-slate-300 dark:bg-slate-700 dark:border-slate-500">
                    <span class="ml-3 font-medium dark:text-slate-300">Thanh toán khi nhận hàng (COD)</span>
                </label>
                <label
                    class="flex items-center p-4 border rounded-2xl cursor-pointer bg-black/5 dark:bg-white/5 border-slate-300 dark:border-slate-700 has-[:checked]:ring-2 has-[:checked]:ring-blue-500 has-[:checked]:border-blue-500">
                    <input type="radio" name="paymentMethod" value="bank"
                        class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-slate-300 dark:bg-slate-700 dark:border-slate-500">
                    <span class="ml-3 font-medium dark:text-slate-300">Chuyển khoản ngân hàng</span>
                </label>
            </div>

            <div id="bank-transfer-info" class="hidden mt-6 text-center">
                <a id="hunq-paygate-link" target="_blank"
                    class="w-full block bg-blue-600 text-white font-semibold py-3 px-6 rounded-xl hover:bg-blue-700 transition-colors">
                    Thanh Toán qua Hunq PayGate
                </a>
            </div>

            <div id="cod-confirm-container" class="mt-8 text-right">
                <button id="confirm-order-btn"
                    class="bg-blue-500 text-white font-semibold py-3 px-6 rounded-xl hover:bg-blue-600 transition-colors">
                    Đặt hàng
                </button>
            </div>
        </div>
    </div>

    <div id="confirmation-modal"
        class="hidden fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4">
        <div class="royal-card p-8 rounded-2xl shadow-xl w-full max-w-sm">
            <h2 id="confirmation-title" class="text-xl font-bold mb-4 dark:text-white">Xác nhận hành động</h2>
            <p id="confirmation-message" class="text-slate-600 dark:text-slate-400 mb-6">Bạn có chắc chắn muốn tiếp tục?
            </p>
            <div class="flex justify-end space-x-4">
                <button id="confirmation-cancel-btn"
                    class="bg-slate-200 text-slate-800 px-4 py-2 rounded-xl hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500 font-semibold text-sm">Hủy</button>
                <button id="confirmation-confirm-btn"
                    class="bg-red-500 text-white px-4 py-2 rounded-xl hover:bg-red-600 font-semibold text-sm">Xác
                    nhận</button>
            </div>
        </div>
    </div>


    <div id="toast"
        class="hidden fixed bottom-5 right-5 bg-slate-900 text-white py-3 px-5 rounded-xl shadow-lg z-50 transition-transform duration-300 translate-y-20 dark:bg-slate-200 dark:text-slate-900">
        <p id="toast-message"></p>
    </div>

    <nav class="md:hidden fixed bottom-0 left-0 right-0 p-2">
        <div class="flex justify-around h-16 items-center royal-card rounded-2xl shadow-lg">
            <a href="#home"
                class="flex flex-col items-center text-slate-600 hover:text-blue-500 dark:text-slate-400 dark:hover:text-blue-400 w-full">
                <i data-lucide="home"></i>
                <span class="text-xs">Trang chủ</span>
            </a>
            <a href="#cart"
                class="relative flex flex-col items-center text-slate-600 hover:text-blue-500 dark:text-slate-400 dark:hover:text-blue-400 w-full">
                <i data-lucide="shopping-cart"></i>
                <span class="text-xs">Giỏ hàng</span>
                <span id="cart-item-count-mobile"
                    class="absolute top-0 right-1/4 -mt-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs text-white">0</span>
            </a>
            <a href="#orders"
                class="flex flex-col items-center text-slate-600 hover:text-blue-500 dark:text-slate-400 dark:hover:text-blue-400 w-full">
                <i data-lucide="package"></i>
                <span class="text-xs">Đơn hàng</span>
            </a>
            <a href="#login" id="mobile-auth-link"
                class="flex flex-col items-center text-slate-600 hover:text-blue-500 dark:text-slate-400 dark:hover:text-blue-400 w-full">
                <i data-lucide="user"></i>
                <span class="text-xs">Tài khoản</span>
            </a>
        </div>
    </nav>

    <button id="back-to-top-btn"
        class="hidden fixed bottom-20 right-5 bg-blue-500 hover:bg-blue-600 text-white rounded-full p-3 shadow-lg transition-opacity duration-300 z-50">
        <i data-lucide="arrow-up" class="w-6 h-6"></i>
    </button>

   <script type="module" src="./Asset/main.js"></script>
</body>

</html>
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>·ª®ng d·ª•ng Mua s·∫Øm</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/dark-mode.css">
</head>
<body>
    <header>
        <h1 class="logo">·ª®ng d·ª•ng Mua s·∫Øm</h1>
        <nav>
            <ul class="nav-tabs">
                <li><a href="#" class="tab active" data-tab="shopping">Mua s·∫Øm</a></li>
                <li><a href="#" class="tab" data-tab="cart">Gi·ªè h√†ng</a></li>
                <li><a href="#" class="tab" data-tab="inventory">Kho ƒë·ªì</a></li>
                <li><a href="#" class="tab" data-tab="data">D·ªØ li·ªáu</a></li>
                <li><a href="#" class="tab" data-tab="settings">C√†i ƒë·∫∑t</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <!-- Tab Mua s·∫Øm -->
        <section id="shopping" class="tab-content active">
            <h2>Mua s·∫Øm</h2>
            <div class="shopping-form">
                <div class="form-group">
                    <label for="product-name">T√™n s·∫£n ph·∫©m</label>
                    <div class="input-with-button">
                        <input type="text" id="product-name" placeholder="Nh·∫≠p t√™n s·∫£n ph·∫©m">
                        <button id="scan-barcode" class="btn-scan">üì∑ Qu√©t</button>
                    </div>
                </div>

                <div class="form-group">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="include-tax" checked>
                        <label for="include-tax">ƒê√£ bao g·ªìm thu·∫ø (<span id="tax-rate">8</span>%)</label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="product-price">Gi√° s·∫£n ph·∫©m</label>
                    <input type="number" id="product-price" placeholder="0.00" min="0" step="0.01">
                </div>

                <div class="form-group">
                    <label for="product-quantity">S·ªë l∆∞·ª£ng</label>
                    <div class="quantity-control">
                        <button id="decrease-quantity" class="btn-quantity">-</button>
                        <input type="number" id="product-quantity" value="1" min="1">
                        <button id="increase-quantity" class="btn-quantity">+</button>
                    </div>
                </div>

                <div class="form-group">
                    <label>Gi·∫£m gi√°</label>
                    <div class="discount-options">
                        <div class="discount-type">
                            <input type="radio" id="discount-percent" name="discount-type" checked>
                            <label for="discount-percent">%</label>
                            <input type="radio" id="discount-direct" name="discount-type">
                            <label for="discount-direct">Tr·ª±c ti·∫øp</label>
                        </div>
                        
                        <div id="percent-options" class="discount-buttons">
                            <button class="btn-discount" data-value="10">10%</button>
                            <button class="btn-discount" data-value="20">20%</button>
                            <button class="btn-discount" data-value="30">30%</button>
                            <button class="btn-discount" data-value="50">50%</button>
                            <input type="number" id="custom-percent" placeholder="Kh√°c" min="0" max="100">
                        </div>
                        
                        <div id="direct-amount" class="discount-direct" style="display: none;">
                            <input type="number" id="discount-amount" placeholder="0.00" min="0" step="0.01">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="final-price">
                        <span>Gi√° sau gi·∫£m:</span>
                        <span id="final-price">0 ƒë</span>
                    </div>
                </div>

                <button id="add-to-cart" class="btn-primary">Th√™m v√†o gi·ªè h√†ng</button>
            </div>
        </section>

        <!-- Tab Gi·ªè h√†ng -->
        <section id="cart" class="tab-content">
            <h2>Gi·ªè h√†ng</h2>
            <div id="cart-items" class="cart-items">
                <!-- Cart items will be added here dynamically -->
            </div>
            <div id="empty-cart-message" class="empty-message">
                Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng
            </div>
            <div class="cart-summary" id="cart-summary" style="display: none;">
                <div class="cart-total">
                    <span>T·ªïng c·ªông:</span>
                    <span id="cart-total">0 ƒë</span>
                </div>
                <button id="checkout" class="btn-primary">X√°c nh·∫≠n thanh to√°n</button>
            </div>
        </section>

        <!-- Tab Kho ƒë·ªì -->
        <section id="inventory" class="tab-content">
            <h2>Kho ƒë·ªì</h2>
            <div class="inventory-header">
                <button id="add-inventory-item" class="btn-primary">Th√™m ƒë·ªì m·ªõi</button>
                <div class="filter-container">
                    <label for="category-filter">Ph√¢n lo·∫°i</label>
                    <select id="category-filter">
                        <option value="all">T·∫•t c·∫£</option>
                        <!-- Categories will be added dynamically -->
                    </select>
                </div>
            </div>
            <div id="inventory-items" class="inventory-items">
                <!-- Inventory items will be added here dynamically -->
            </div>
            <div id="empty-inventory-message" class="empty-message">
                Kho ƒë·ªì c·ªßa b·∫°n ƒëang tr·ªëng
            </div>
        </section>

        <!-- Tab D·ªØ li·ªáu -->
        <section id="data" class="tab-content">
            <h2>D·ªØ li·ªáu</h2>
            <div class="data-tabs">
                <button class="data-tab active" data-tab="products">S·∫£n ph·∫©m</button>
                <button class="data-tab" data-tab="history">L·ªãch s·ª≠ mua</button>
            </div>
            
            <div id="products-data" class="data-content active">
                <div class="data-header">
                    <h3>Danh s√°ch s·∫£n ph·∫©m</h3>
                    <button id="add-product-data" class="btn-primary">Th√™m s·∫£n ph·∫©m</button>
                </div>
                <div id="products-table" class="data-table">
                    <!-- Products table will be added here dynamically -->
                </div>
                <div id="empty-products-message" class="empty-message">
                    Ch∆∞a c√≥ s·∫£n ph·∫©m n√†o
                </div>
            </div>
            
            <div id="history-data" class="data-content">
                <h3>L·ªãch s·ª≠ mua h√†ng</h3>
                <div id="purchase-history" class="purchase-history">
                    <!-- Purchase history will be added here dynamically -->
                </div>
                <div id="empty-history-message" class="empty-message">
                    Ch∆∞a c√≥ l·ªãch s·ª≠ mua h√†ng
                </div>
            </div>
        </section>

        <!-- Tab C√†i ƒë·∫∑t -->
        <section id="settings" class="tab-content">
            <h2>C√†i ƒë·∫∑t</h2>
            <div class="settings-container">
                <div class="settings-card">
                    <h3>Giao di·ªán</h3>
                    <div class="theme-options">
                        <label>Ch·∫ø ƒë·ªô hi·ªÉn th·ªã</label>
                        <div class="theme-buttons">
                            <button id="theme-light" class="btn-theme active">S√°ng</button>
                            <button id="theme-dark" class="btn-theme">T·ªëi</button>
                            <button id="theme-system" class="btn-theme">H·ªá th·ªëng</button>
                        </div>
                    </div>
                </div>
                
                <div class="settings-card">
                    <h3>Thu·∫ø</h3>
                    <div class="tax-settings">
                        <label for="default-tax-rate">Thu·∫ø su·∫•t m·∫∑c ƒë·ªãnh (%)</label>
                        <input type="number" id="default-tax-rate" value="8" min="0" max="100" step="0.1">
                    </div>
                </div>
                
                <div class="settings-card">
                    <h3>Th√¥ng tin ·ª©ng d·ª•ng</h3>
                    <div class="app-info">
                        <p><strong>T√™n:</strong> ·ª®ng d·ª•ng Mua s·∫Øm</p>
                        <p><strong>Phi√™n b·∫£n:</strong> 1.0.0</p>
                        <p><strong>M√¥ t·∫£:</strong> ·ª®ng d·ª•ng mua s·∫Øm v·ªõi c√°c ch·ª©c nƒÉng qu·∫£n l√Ω s·∫£n ph·∫©m v√† kho ƒë·ªì</p>
                        <p><strong>T√≠nh nƒÉng:</strong></p>
                        <ul>
                            <li>Qu·∫£n l√Ω s·∫£n ph·∫©m v√† gi·ªè h√†ng</li>
                            <li>Qu√©t m√£ barcode s·∫£n ph·∫©m</li>
                            <li>T√≠nh to√°n gi√° v·ªõi thu·∫ø v√† gi·∫£m gi√°</li>
                            <li>Qu·∫£n l√Ω kho ƒë·ªì v√† ph√¢n lo·∫°i</li>
                            <li>L∆∞u tr·ªØ l·ªãch s·ª≠ mua h√†ng</li>
                            <li>H·ªó tr·ª£ ch·∫ø ƒë·ªô t·ªëi/s√°ng</li>
                        </ul>
                    </div>
                </div>
                
                <button id="save-settings" class="btn-primary">L∆∞u c√†i ƒë·∫∑t</button>
            </div>
        </section>
    </main>

    <!-- Modal templates -->
    <div id="modal-container" class="modal-container" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modal-title">Ti√™u ƒë·ªÅ</h3>
                <button id="modal-close" class="modal-close">&times;</button>
            </div>
            <div id="modal-content" class="modal-content">
                <!-- Modal content will be added dynamically -->
            </div>
        </div>
    </div>

    <div id="confirm-modal" class="modal-container" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3>X√°c nh·∫≠n</h3>
                <button id="confirm-close" class="modal-close">&times;</button>
            </div>
            <div class="modal-content">
                <p id="confirm-message">B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën th·ª±c hi·ªán h√†nh ƒë·ªông n√†y?</p>
                <div class="modal-buttons">
                    <button id="confirm-cancel" class="btn-secondary">H·ªßy</button>
                    <button id="confirm-ok" class="btn-primary">X√°c nh·∫≠n</button>
                </div>
            </div>
        </div>
    </div>

    <div id="barcode-scanner-modal" class="modal-container" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3>Qu√©t m√£ Barcode</h3>
                <button id="scanner-close" class="modal-close">&times;</button>
            </div>
            <div class="modal-content">
                <div id="scanner-container" class="scanner-container">
                    <video id="scanner-video"></video>
                </div>
                <p class="scanner-help">ƒê·∫∑t m√£ barcode v√†o khung qu√©t</p>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 ·ª®ng d·ª•ng Mua s·∫Øm</p>
    </footer>

    <script src="js/utils.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/shopping.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/inventory.js"></script>
    <script src="js/data.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
